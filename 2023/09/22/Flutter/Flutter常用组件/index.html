<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="前端；博客；日志">
    
    <meta name="author" content="Jared Yuan">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="http://example.com/2023/09/22/flutter/flutter常用组件/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="记录Flutter中自定义实现的组件">
<meta property="og:type" content="article">
<meta property="og:title" content="Flutter常用组件">
<meta property="og:url" content="http://example.com/2023/09/22/Flutter/Flutter%E5%B8%B8%E7%94%A8%E7%BB%84%E4%BB%B6/index.html">
<meta property="og:site_name" content="Jshao&#39;s Blog">
<meta property="og:description" content="记录Flutter中自定义实现的组件">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-09-22T04:00:12.000Z">
<meta property="article:modified_time" content="2023-09-22T04:07:14.039Z">
<meta property="article:author" content="yongjie Yuan">
<meta property="article:tag" content="Flutter">
<meta name="twitter:card" content="summary">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/images/favicon.ico" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/images/favicon.ico">
    <!--- Page Info-->
    
    <title>
        
            Flutter常用组件 -
        
        Jshao&#39;s Motel
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
    
    
    
    

    <script id="hexo-configurations">
    window.config = {"hostname":"example.com","root":"/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null},"title":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":false,"custom_message":null},"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"Theme Redefine","subtitle":{"text":["少女的征途是星辰大海而并非烟尘人间","斯人若彩虹，遇上方知有"],"hitokoto":{"enable":false,"show_author":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/yongjieYuan","instagram":null,"zhihu":null,"twitter":null,"email":null,"fa-solid fa-user":"http://www.lieinhe.cn"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.7.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"Categories":{"path":"/categories/","icon":"fa-solid fa-folder"},"Tags":{"path":"/tags/","icon":"fa-solid fa-tags"},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/EvanNotFound/hexo-theme-redefine","复盘-1":"https://www.yuque.com/jshao-n4geo/umd53l/zqwh73lsqgwri4kh"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"cloud"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":{"Tags":{"path":"/tags","icon":"fa-regular fa-tags"},"Categories":{"path":"/categories","icon":"fa-regular fa-folder"}}},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2023/9/1 00:00:00"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>



<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                Jshao&#39;s Motel
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    ARCHIVES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories/"
                                        >
                                    <i class="fa-solid fa-folder fa-fw"></i>
                                    CATEGORIES
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/tags/"
                                        >
                                    <i class="fa-solid fa-tags fa-fw"></i>
                                    TAGS
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    ABOUT
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/EvanNotFound/hexo-theme-redefine">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://www.yuque.com/jshao-n4geo/umd53l/zqwh73lsqgwri4kh">
                                                    复盘-1
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                ARCHIVES
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories/"
                        >
                            <span>
                                CATEGORIES
                            </span>
                            
                                <i class="fa-solid fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/tags/"
                        >
                            <span>
                                TAGS
                            </span>
                            
                                <i class="fa-solid fa-tags fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                ABOUT
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/EvanNotFound/hexo-theme-redefine">GITHUB</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://www.yuque.com/jshao-n4geo/umd53l/zqwh73lsqgwri4kh">复盘-1</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
                
                    
                    
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">5</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">2</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">8</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                <div class="w-full flex items-center pt-6 justify-start">
                    <h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Flutter常用组件</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/images/avatar.jpeg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Jared Yuan</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv2</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2023-09-22 12:12</span>
        <span class="mobile">2023-09-22 12:12</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2023-09-22 12:07:14</span>
            <span class="mobile">2023-09-22 12:07:14</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/Flutter/">Flutter</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Flutter/">Flutter</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h2 id="1-圆角按钮"><a href="#1-圆角按钮" class="headerlink" title="1.圆角按钮"></a>1.圆角按钮</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">TextButton(</span><br><span class="line">    onPressed: ()&#123;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;取消订单&#x27;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    style: TextButton.styleFrom(</span><br><span class="line">        padding: EdgeInsets.zero,</span><br><span class="line">        shape: RoundedRectangleBorder(</span><br><span class="line">            borderRadius: BorderRadius.circular(<span class="number">16.0</span>),</span><br><span class="line">            side: BorderSide(width: <span class="number">1.0</span>, color: Color(<span class="number">0xFFC4C8CC</span>)) <span class="comment">/// <span class="language-markdown">外边框</span></span></span><br><span class="line">        ),</span><br><span class="line">        minimumSize: Size.zero</span><br><span class="line">    ),</span><br><span class="line">    child: Container(</span><br><span class="line">      padding: EdgeInsets.symmetric(horizontal: <span class="number">18.0</span>, vertical: <span class="number">5.0</span>),</span><br><span class="line">      child: Text(<span class="string">&#x27;取消订单&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFA8ADB3</span>), fontSize: <span class="number">12.0</span>)),</span><br><span class="line">    )</span><br><span class="line">),</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">ClipRRect(</span><br><span class="line">  borderRadius: BorderRadius.circular(<span class="number">16.5</span>),</span><br><span class="line">  child: ElevatedButton(</span><br><span class="line">    onPressed: () &#123;</span><br><span class="line">      Nav.push((context) =&gt; CheckoutCounter());</span><br><span class="line">    &#125;,</span><br><span class="line">    style: ButtonStyle(</span><br><span class="line">      textStyle: MaterialStateProperty.all(TextStyle(fontSize: <span class="number">12.0</span>)),</span><br><span class="line">      backgroundColor: MaterialStateProperty.all(Color(<span class="number">0xFF3F5AFF</span>)),</span><br><span class="line">      padding: MaterialStateProperty.all(EdgeInsets.symmetric(vertical: <span class="number">8.0</span>, horizontal: <span class="number">26.0</span>))</span><br><span class="line">    ),</span><br><span class="line">    child: Text(<span class="string">&quot;提交订单&quot;</span>),</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>

<h2 id="2-Text"><a href="#2-Text" class="headerlink" title="2.Text"></a>2.Text</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Text(<span class="string">&#x27;待发货&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFF223359</span>), fontSize: <span class="number">14.0</span>)),</span><br></pre></td></tr></table></figure></div>

<h2 id="3-圆形-Container"><a href="#3-圆形-Container" class="headerlink" title="3.圆形 Container"></a>3.圆形 Container</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">      height: <span class="number">200</span>,</span><br><span class="line">      width: <span class="number">200</span>,</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">        image: DecorationImage(</span><br><span class="line">          image: NetworkImage(</span><br><span class="line">              <span class="string">&#x27;https://flutter.github.io/assets-for-api-docs/assets/widgets/owl-2.jpg&#x27;</span>),</span><br><span class="line">          fit: BoxFit.cover,</span><br><span class="line">        ),</span><br><span class="line">        border: Border.all(</span><br><span class="line">          color: Colors.blue,</span><br><span class="line">          width: <span class="number">2</span>,</span><br><span class="line">        ),</span><br><span class="line">        shape: BoxShape.circle, <span class="comment">/// <span class="language-markdown">一般这个属性就够了</span></span></span><br><span class="line">      ),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></div>

<h2 id="4-圆形按钮"><a href="#4-圆形按钮" class="headerlink" title="4. 圆形按钮"></a>4. 圆形按钮</h2><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41619796/article/details/115658314" >CSDN：关于 Flutter 的 button 的按钮 ElevatedButton <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">InviteNumScreen</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ElevatedButton(</span><br><span class="line">          child: Text(<span class="string">&#x27;button&#x27;</span>),</span><br><span class="line">          onPressed: ()&#123;&#125;,</span><br><span class="line">          style: ButtonStyle(</span><br><span class="line">            padding: MaterialStateProperty.all(EdgeInsets.all(<span class="number">20.0</span>)),</span><br><span class="line">              textStyle: MaterialStateProperty.all(TextStyle(fontSize: <span class="number">20</span>)),</span><br><span class="line">              shape: MaterialStateProperty.all(</span><br><span class="line">                CircleBorder(</span><br><span class="line">                  side: BorderSide(</span><br><span class="line">                    color: Colors.deepOrangeAccent,</span><br><span class="line">                    width: <span class="number">1.0</span></span><br><span class="line">                  )</span><br><span class="line">                )</span><br><span class="line">              )</span><br><span class="line">          )</span><br><span class="line">        )</span><br></pre></td></tr></table></figure></div>

<h2 id="5-自定义对话框"><a href="#5-自定义对话框" class="headerlink" title="5.自定义对话框"></a>5.自定义对话框</h2><ol>
<li><p>调用方式</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">bool</span> result = <span class="keyword">await</span> showDialog(context: context, builder: (context) =&gt; CustomDialog(<span class="string">&#x27;确定退出紫鲸书苑？&#x27;</span>));</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>自定义的对话框</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> Dialog(</span><br><span class="line">  child: Container(</span><br><span class="line">    decoration: BoxDecoration(</span><br><span class="line">      color: Colors.white,</span><br><span class="line">      borderRadius: BorderRadius.circular(<span class="number">10.0</span>)</span><br><span class="line">    ),</span><br><span class="line">    height: <span class="number">123.0</span>,</span><br><span class="line">    child: Column(</span><br><span class="line">      children: [</span><br><span class="line">        Container(</span><br><span class="line">          padding: EdgeInsets.symmetric(vertical: <span class="number">30.0</span>),</span><br><span class="line">          child: Center(</span><br><span class="line">            child: Text(_message, style: TextStyle(color: Color(<span class="number">0xFF223359</span>), fontSize: <span class="number">16.0</span>)),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        Expanded(</span><br><span class="line">            child: Row(</span><br><span class="line">              children: [</span><br><span class="line">                Flexible(</span><br><span class="line">                  child: Container(</span><br><span class="line">                    decoration: BoxDecoration(</span><br><span class="line">                      border: Border(</span><br><span class="line">                          top: BorderSide(width: <span class="number">1.0</span>, color: Color(<span class="number">0xFFEBEDF0</span>)),</span><br><span class="line">                          right: BorderSide(width: <span class="number">1.0</span>, color: Color(<span class="number">0xFFEBEDF0</span>))</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                    child: SizedBox.expand(</span><br><span class="line">                      child: TextButton(</span><br><span class="line">                        onPressed: ()&#123;</span><br><span class="line">                          Nav.pop(<span class="keyword">false</span>);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        child: Text(<span class="string">&#x27;取消&#x27;</span>, style: TextStyle(fontSize: <span class="number">14.0</span> ,color: Color(<span class="number">0xFFA8ADB3</span>))),</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                Flexible(</span><br><span class="line">                  child: Container(</span><br><span class="line">                    decoration: BoxDecoration(</span><br><span class="line">                      border: Border(</span><br><span class="line">                          top: BorderSide(width: <span class="number">1.0</span>, color: Color(<span class="number">0xFFEBEDF0</span>))</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                    child: SizedBox.expand(</span><br><span class="line">                      child: TextButton(</span><br><span class="line">                        onPressed: ()&#123;</span><br><span class="line">                          Nav.pop(<span class="keyword">true</span>);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        child: Text(<span class="string">&#x27;确定&#x27;</span>, style: TextStyle(fontSize: <span class="number">14.0</span> ,color: Color(<span class="number">0xFF223359</span>))),</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  ),</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            )</span><br><span class="line">        )],</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></li>
</ol>
<h2 id="6-圆角按钮"><a href="#6-圆角按钮" class="headerlink" title="6.圆角按钮"></a>6.圆角按钮</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ElevatedButton(</span><br><span class="line">                      onPressed: ()&#123;</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">&#x27;保存&#x27;</span>);</span><br><span class="line">                      &#125;,</span><br><span class="line">                      style: ButtonStyle(</span><br><span class="line">                        shape: MaterialStateProperty.all(</span><br><span class="line">                           RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="number">25.0</span>))</span><br><span class="line">                        ),</span><br><span class="line">                      ),</span><br><span class="line">                      child: Text(<span class="string">&#x27;保存&#x27;</span>)</span><br><span class="line">                  )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    ElevatedButton(</span><br><span class="line">                onPressed: ()&#123;</span><br><span class="line"></span><br><span class="line">                &#125;,</span><br><span class="line">                style: ElevatedButton.styleFrom(</span><br><span class="line">                  shape: RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="number">5.0</span>)),</span><br><span class="line">                  padding: EdgeInsets.symmetric(horizontal: <span class="number">27.0</span>, vertical: <span class="number">7.0</span>),</span><br><span class="line">                ),</span><br><span class="line">                child: Text(<span class="string">&#x27;确定&#x27;</span>)</span><br><span class="line">            )</span><br></pre></td></tr></table></figure></div>

<h2 id="7-独占一行-TextFormField"><a href="#7-独占一行-TextFormField" class="headerlink" title="7.独占一行 TextFormField"></a>7.独占一行 TextFormField</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">TextFormField(</span><br><span class="line">  decoration: InputDecoration(</span><br><span class="line">    contentPadding: EdgeInsets.symmetric(vertical: <span class="number">15.0</span>, horizontal: <span class="number">16.0</span>),</span><br><span class="line">    filled: <span class="keyword">true</span>,</span><br><span class="line">    fillColor: Colors.white,</span><br><span class="line">    hintText: <span class="string">&#x27;请输入&#x27;</span>,</span><br><span class="line">    hintStyle: TextStyle(color: Color(<span class="number">0xFFA8ADB3</span>), fontSize: <span class="number">14.0</span>),</span><br><span class="line">    helperText: <span class="string">&#x27;请不要超过16个字符，支持中英文、数字&#x27;</span>,</span><br><span class="line">    helperStyle: TextStyle(color: Color(<span class="number">0xFFC4C8CC</span>), fontSize: <span class="number">13.0</span>),</span><br><span class="line">    border: InputBorder.none</span><br><span class="line">  ),</span><br><span class="line">  style: TextStyle(fontSize: <span class="number">14.0</span>),</span><br><span class="line">),</span><br></pre></td></tr></table></figure></div>

<h2 id="8-独占一行的圆角按钮"><a href="#8-独占一行的圆角按钮" class="headerlink" title="8.独占一行的圆角按钮"></a>8.独占一行的圆角按钮</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Padding(</span><br><span class="line">  padding: EdgeInsets.symmetric(horizontal: <span class="number">40.0</span>),</span><br><span class="line">  child: Row(</span><br><span class="line">    children: [</span><br><span class="line">      Expanded(</span><br><span class="line">        child: ElevatedButton(</span><br><span class="line">            onPressed: ()&#123;</span><br><span class="line">              <span class="built_in">print</span>(<span class="string">&#x27;保存&#x27;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            style: ButtonStyle(</span><br><span class="line">              backgroundColor: MaterialStateProperty.all(Color(<span class="number">0xFF3F5AFF</span>)),</span><br><span class="line">              padding: MaterialStateProperty.all(EdgeInsets.symmetric(vertical: <span class="number">12.0</span>)),</span><br><span class="line">              shape: MaterialStateProperty.all(</span><br><span class="line">                 RoundedRectangleBorder(borderRadius: BorderRadius.circular(<span class="number">25.0</span>))</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            child: Text(<span class="string">&#x27;保存&#x27;</span>, style: TextStyle(fontSize: <span class="number">14.0</span>))</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    ],</span><br><span class="line">  ),</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>

<h2 id="9-文本输入框不限制行数，类似富文本"><a href="#9-文本输入框不限制行数，类似富文本" class="headerlink" title="9.文本输入框不限制行数，类似富文本"></a>9.文本输入框不限制行数，类似富文本</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">TextFormField(</span><br><span class="line">                      maxLines: <span class="keyword">null</span>,</span><br><span class="line">                      expands: <span class="keyword">true</span>,</span><br><span class="line">                      style: TextStyle(fontSize: <span class="number">13.0</span>),</span><br><span class="line">                      decoration: InputDecoration(</span><br><span class="line">                          contentPadding: EdgeInsets.zero,</span><br><span class="line">                          hintText: <span class="string">&#x27;填写详细地址&#x27;</span>,</span><br><span class="line">                          hintStyle: TextStyle(fontSize: <span class="number">13.0</span>, color: Color(<span class="number">0xFFA8ADB3</span>)),</span><br><span class="line">                          border: InputBorder.none</span><br><span class="line">                      ),</span><br><span class="line">                    )</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">separatorBuilder: (BuildContext context, int index)&#123;</span><br><span class="line">  return Divider(height: 2.0, color: Color(0xFFEBEBEB));</span><br><span class="line">&#125;,</span><br><span class="line">itemCount: _linkList.length,</span><br></pre></td></tr></table></figure></div>

<h2 id="10-有关圆角设置"><a href="#10-有关圆角设置" class="headerlink" title="10.有关圆角设置"></a>10.有关圆角设置</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">decoration: BoxDecoration(</span><br><span class="line">         borderRadius: BorderRadius.only(</span><br><span class="line">           topLeft: Radius.circular(<span class="number">30.0</span>),</span><br><span class="line">           topRight: Radius.circular(<span class="number">30.0</span>)</span><br><span class="line">         ),</span><br><span class="line">         color: Colors.white,</span><br><span class="line">       ),</span><br></pre></td></tr></table></figure></div>

<h2 id="11-有关-showModalBottomSheet"><a href="#11-有关-showModalBottomSheet" class="headerlink" title="11.有关 showModalBottomSheet"></a>11.<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/cpcpcp123/article/details/97660036" >有关 showModalBottomSheet <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_35317752/article/details/103813196" >解决圆角底部弹窗 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>在 showModalBottomSheet 里面的根容器设置成 SingleChildScrollView，即可实现高度根据内容自适应</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">showModalBottomSheet(<span class="comment">/// <span class="language-markdown">底部弹窗</span></span></span><br><span class="line">                      context: context,</span><br><span class="line">                      enableDrag: <span class="keyword">false</span>,</span><br><span class="line">                      backgroundColor: Colors.white,</span><br><span class="line">                      shape: RoundedRectangleBorder(</span><br><span class="line">                          borderRadius: BorderRadius.only(</span><br><span class="line">                              topLeft: Radius.circular(<span class="number">30.0</span>),</span><br><span class="line">                              topRight: Radius.circular(<span class="number">30.0</span>),</span><br><span class="line">                          )</span><br><span class="line">                      ),</span><br><span class="line">                      builder: (BuildContext context) &#123;</span><br><span class="line">                        <span class="keyword">return</span> SingleChildScrollView(</span><br><span class="line">                          child: Container(</span><br><span class="line">                            padding: EdgeInsets.symmetric(horizontal: <span class="number">20.0</span>, vertical: <span class="number">15.0</span>),</span><br><span class="line">                            child: Column(</span><br><span class="line">                              children: [</span><br><span class="line">                                Text(<span class="string">&#x27;The cancellation of account&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFF333333</span>), fontSize: <span class="number">16.0</span>)),</span><br><span class="line">                                Padding(</span><br><span class="line">                                  padding: <span class="keyword">const</span> EdgeInsets.symmetric(vertical: <span class="number">15.0</span>),</span><br><span class="line">                                  child: Text(<span class="string">&#x27;Please note: Once your account is logged out,&#x27;</span></span><br><span class="line">                                      <span class="string">&#x27; you will not be able to log in and use your account, &#x27;</span></span><br><span class="line">                                      <span class="string">&#x27;and your rights and interests will be cleared and cannot be restored.&#x27;</span></span><br><span class="line">                                      <span class="string">&#x27; Are you sure to cancel your account?&#x27;</span>,</span><br><span class="line">                                    style: TextStyle(color: Color(<span class="number">0xFF999999</span>), fontSize: <span class="number">12.0</span>),</span><br><span class="line">                                  ),</span><br><span class="line">                                ),</span><br><span class="line">                                Row(</span><br><span class="line">                                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,</span><br><span class="line">                                  children: [</span><br><span class="line">                                    TextButton(</span><br><span class="line">                                        onPressed: ()&#123;</span><br><span class="line">                                          <span class="built_in">print</span>(<span class="string">&#x27;取消订单&#x27;</span>);</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        style: TextButton.styleFrom(</span><br><span class="line">                                          backgroundColor: Color(<span class="number">0xFF5BCD49</span>),</span><br><span class="line">                                            padding: EdgeInsets.zero,</span><br><span class="line">                                            shape: RoundedRectangleBorder(</span><br><span class="line">                                                borderRadius: BorderRadius.circular(<span class="number">13.5</span>)<span class="comment">/// <span class="language-markdown">外边框</span></span></span><br><span class="line">                                            ),</span><br><span class="line">                                            minimumSize: Size.zero</span><br><span class="line">                                        ),</span><br><span class="line">                                        child: Container(</span><br><span class="line">                                          padding: EdgeInsets.symmetric(horizontal: <span class="number">13.0</span>, vertical: <span class="number">5.0</span>),</span><br><span class="line">                                          child: Text(<span class="string">&#x27;confirm&#x27;</span>, style: TextStyle(color: Colors.white, fontSize: <span class="number">12.0</span>)),</span><br><span class="line">                                        )</span><br><span class="line">                                    ),</span><br><span class="line">                                    TextButton(</span><br><span class="line">                                        onPressed: ()&#123;</span><br><span class="line">                                          <span class="built_in">print</span>(<span class="string">&#x27;取消订单&#x27;</span>);</span><br><span class="line">                                        &#125;,</span><br><span class="line">                                        style: TextButton.styleFrom(</span><br><span class="line">                                            padding: EdgeInsets.zero,</span><br><span class="line">                                            backgroundColor: Colors.white,</span><br><span class="line">                                            shape: RoundedRectangleBorder(</span><br><span class="line">                                                borderRadius: BorderRadius.circular(<span class="number">13.5</span>),</span><br><span class="line">                                                side: BorderSide(width: <span class="number">0.5</span>, color: Color(<span class="number">0xFF999999</span>)) <span class="comment">/// <span class="language-markdown">外边框</span></span></span><br><span class="line">                                            ),</span><br><span class="line">                                            minimumSize: Size.zero</span><br><span class="line">                                        ),</span><br><span class="line">                                        child: Container(</span><br><span class="line">                                          padding: EdgeInsets.symmetric(horizontal: <span class="number">13.0</span>, vertical: <span class="number">5.0</span>),</span><br><span class="line">                                          child: Text(<span class="string">&#x27;cancel&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFF999999</span>), fontSize: <span class="number">12.0</span>)),</span><br><span class="line">                                        )</span><br><span class="line">                                    ),</span><br><span class="line">                                  ],</span><br><span class="line">                                )</span><br><span class="line">                              ],</span><br><span class="line">                            ),</span><br><span class="line">                          ),</span><br><span class="line">                        );</span><br><span class="line">                      &#125;,</span><br><span class="line">                    );</span><br></pre></td></tr></table></figure></div>

<h2 id="12-列表展示"><a href="#12-列表展示" class="headerlink" title="12.列表展示"></a>12.列表展示</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">列表展示</span></span></span><br><span class="line">ListView.separated(</span><br><span class="line">  shrinkWrap: <span class="keyword">true</span>,</span><br><span class="line">  padding: EdgeInsets.zero,</span><br><span class="line">  physics: NeverScrollableScrollPhysics(),</span><br><span class="line">  separatorBuilder: (BuildContext context, <span class="built_in">int</span> index) &#123;</span><br><span class="line">    <span class="keyword">return</span> Divider(</span><br><span class="line">      height: <span class="number">1.0</span>,</span><br><span class="line">    );</span><br><span class="line">  &#125;,</span><br><span class="line">  itemBuilder: (context, index) &#123;</span><br><span class="line">    <span class="keyword">return</span> ShopItem(_list[index]);</span><br><span class="line">  &#125;,</span><br><span class="line">  itemCount: _list.length,</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>

<h2 id="13-Container-阴影"><a href="#13-Container-阴影" class="headerlink" title="13.Container 阴影"></a>13.Container 阴影</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">boxShadow: [</span><br><span class="line">    BoxShadow(</span><br><span class="line">        color: Colors.black12,</span><br><span class="line">        offset: Offset(<span class="number">0.0</span>, <span class="number">15.0</span>), <span class="comment">//阴影xy轴偏移量</span></span><br><span class="line">        blurRadius: <span class="number">15.0</span>, <span class="comment">//阴影模糊程度</span></span><br><span class="line">        spreadRadius: <span class="number">1.0</span> <span class="comment">//阴影扩散程度</span></span><br><span class="line">    )</span><br><span class="line">],</span><br></pre></td></tr></table></figure></div>

<h2 id="14-TextFormField-属性"><a href="#14-TextFormField-属性" class="headerlink" title="14.TextFormField 属性"></a>14.<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/chen1234219/article/details/105047845/" >TextFormField 属性 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><h2 id="15-Flutter-的-showModalBottomSheet-输入框被弹出的键盘挡住"><a href="#15-Flutter-的-showModalBottomSheet-输入框被弹出的键盘挡住" class="headerlink" title="15.Flutter 的 showModalBottomSheet 输入框被弹出的键盘挡住"></a>15.<a class="link"   target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/370424176" >Flutter 的 showModalBottomSheet 输入框被弹出的键盘挡住 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><h2 id="16-页面滚动，性能优越的结构"><a href="#16-页面滚动，性能优越的结构" class="headerlink" title="16.页面滚动，性能优越的结构"></a>16.页面滚动，性能优越的结构</h2><ol>
<li>Column -&gt; Expanded -&gt; ListView.builder</li>
</ol>
<h2 id="17-圆角-TextFormField"><a href="#17-圆角-TextFormField" class="headerlink" title="17.圆角 TextFormField"></a>17.圆角 TextFormField</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">TextFormField(</span><br><span class="line">  cursorColor: Color(<span class="number">0xFF5BCD49</span>),</span><br><span class="line">  decoration: InputDecoration(</span><br><span class="line">      filled: <span class="keyword">true</span>,</span><br><span class="line">      fillColor: Colors.white,</span><br><span class="line">      border: OutlineInputBorder(</span><br><span class="line">        borderRadius: BorderRadius.circular(<span class="number">10.0</span>),</span><br><span class="line">        borderSide: BorderSide.none</span><br><span class="line">      ),</span><br><span class="line">      hintText: <span class="string">&#x27;Enter a new binding mailbox&#x27;</span>,</span><br><span class="line">      hintStyle: TextStyle(</span><br><span class="line">          color: Color(<span class="number">0xFFD6D9DD</span>), fontSize: <span class="number">14.0</span>)),</span><br><span class="line">),</span><br></pre></td></tr></table></figure></div>

<h2 id="18-固定在界面上的时间选择器"><a href="#18-固定在界面上的时间选择器" class="headerlink" title="18.固定在界面上的时间选择器"></a>18.固定在界面上的时间选择器</h2><p>相关链接：</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/mengks1987/article/details/104580596" >https://blog.csdn.net/mengks1987/article/details/104580596 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000020205762" >https://segmentfault.com/a/1190000020205762 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h2 id="19-ListWheelScrollView-useDelegate"><a href="#19-ListWheelScrollView-useDelegate" class="headerlink" title="19.ListWheelScrollView.useDelegate"></a>19.ListWheelScrollView.useDelegate</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">ListWheelScrollView.useDelegate(</span><br><span class="line">          itemExtent: <span class="number">50.0</span>,</span><br><span class="line">          diameterRatio: <span class="number">.5</span>,</span><br><span class="line">          childDelegate: ListWheelChildBuilderDelegate(</span><br><span class="line">              builder: (context, index) &#123;</span><br><span class="line">                <span class="keyword">return</span> Container(</span><br><span class="line">                  alignment: Alignment.center,</span><br><span class="line">                  color: Colors.primaries[index % <span class="number">10</span>],</span><br><span class="line">                  child: Text(<span class="string">&#x27;<span class="subst">$index</span>&#x27;</span>),</span><br><span class="line">                );</span><br><span class="line">              &#125;</span><br><span class="line">          ),</span><br><span class="line">    <span class="comment">/// <span class="language-markdown">选中事件</span></span></span><br><span class="line">        onSelectedItemChanged: (val)&#123;</span><br><span class="line">            <span class="built_in">print</span>(val);</span><br><span class="line">        &#125;,</span><br><span class="line">      )</span><br></pre></td></tr></table></figure></div>

<h2 id="20-TextFormField-文章"><a href="#20-TextFormField-文章" class="headerlink" title="20.TextFormField 文章"></a>20.TextFormField 文章</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//www.ptbird.cn/flutter-form-textformfield.html</span></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">Column(</span><br><span class="line">        children: [</span><br><span class="line">          Flexible(</span><br><span class="line">            child: ListView(</span><br><span class="line">              shrinkWrap: <span class="keyword">true</span>,</span><br><span class="line">              children: _links.map((item) =&gt;</span><br><span class="line">                  GestureDetector(</span><br><span class="line">                    onTap: ()&#123;</span><br><span class="line">                      Nav.push((context) =&gt; item[<span class="string">&#x27;link&#x27;</span>]);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    child: Container(</span><br><span class="line">                      margin: EdgeInsets.only(top: <span class="number">5.0</span>),</span><br><span class="line">                      height: <span class="number">50.0</span>,</span><br><span class="line">                      padding: EdgeInsets.only(left: <span class="number">15.0</span>, right: <span class="number">17.0</span>),</span><br><span class="line">                      color: Colors.white,</span><br><span class="line">                      child: Row(</span><br><span class="line">                        mainAxisAlignment: MainAxisAlignment.spaceBetween,</span><br><span class="line">                        children: [</span><br><span class="line">                          Text(item[<span class="string">&#x27;title&#x27;</span>], style: TextStyle(color: Color(<span class="number">0xFF333333</span>), fontSize: <span class="number">14.0</span>)),</span><br><span class="line">                          Image.asset(<span class="string">&#x27;arrow_click&#x27;</span>.webp, width: <span class="number">6.0</span>, height: <span class="number">12.0</span>, fit: BoxFit.cover)</span><br><span class="line">                        ],</span><br><span class="line">                      ),</span><br><span class="line">                    ),</span><br><span class="line">                  )</span><br><span class="line">              ).toList(),</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ],</span><br><span class="line">      )</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="21-Entry-name-‘classes-dex‘-collided"><a href="#21-Entry-name-‘classes-dex‘-collided" class="headerlink" title="21.Entry name ‘classes.dex‘ collided"></a>21.Entry name ‘classes.dex‘ collided</h2><p>有效的解决方案是把 release 文件夹下之前生成的 apk 删除，然后再次生成 apk。</p>
<h2 id="22-flutter-textformfield-失去焦点"><a href="#22-flutter-textformfield-失去焦点" class="headerlink" title="22.flutter textformfield 失去焦点"></a>22.flutter textformfield 失去焦点</h2><p><a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/lude1994/p/14218014.html" >https://www.cnblogs.com/lude1994/p/14218014.html <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Text(<span class="string">&#x27;Exhaust Fan 1&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<h2 id="23-InkWell-使用无效"><a href="#23-InkWell-使用无效" class="headerlink" title="23.InkWell 使用无效"></a>23.InkWell 使用无效</h2><p>在外层嵌套个 inkwell，如果还是不行就在 inkwell 外面套一个 Material</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Material(</span><br><span class="line">                        color: Colors.transparent,</span><br><span class="line">                        child: InkWell(</span><br><span class="line">                          onLongPress : ()&#123;</span><br><span class="line">                            <span class="built_in">print</span>(<span class="string">&#x27;fff&#x27;</span>);</span><br><span class="line">                          &#125;,</span><br><span class="line">                          child: Container(child: Text(<span class="string">&#x27;Exhaust Fan 1&#x27;</span>))</span><br><span class="line">                        ),</span><br><span class="line">                      ),</span><br></pre></td></tr></table></figure></div>

<h2 id="24-瀑布流布局"><a href="#24-瀑布流布局" class="headerlink" title="24.瀑布流布局"></a>24.瀑布流布局</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">StaggeredGridView.countBuilder(</span><br><span class="line">                      padding: EdgeInsets.symmetric(horizontal: <span class="number">15.0</span>, vertical: <span class="number">20.0</span>),</span><br><span class="line">                      shrinkWrap: <span class="keyword">true</span>,</span><br><span class="line">                      physics: NeverScrollableScrollPhysics(),</span><br><span class="line">                      primary: <span class="keyword">true</span>,</span><br><span class="line">                      <span class="comment">//滑动方向</span></span><br><span class="line">                      scrollDirection: Axis.vertical,</span><br><span class="line">                      <span class="comment">//纵轴方向被划分的个数</span></span><br><span class="line">                      crossAxisCount: <span class="number">2</span>,</span><br><span class="line">                      <span class="comment">//item的数量</span></span><br><span class="line">                      itemCount: _shopList.length,</span><br><span class="line">                      mainAxisSpacing: <span class="number">10.0</span>,</span><br><span class="line">                      crossAxisSpacing: <span class="number">10.0</span>,</span><br><span class="line">                      staggeredTileBuilder: (index) =&gt; StaggeredTile.fit(<span class="number">1</span>),</span><br><span class="line">                      itemBuilder: (BuildContext context, <span class="built_in">int</span> index) =&gt; GestureDetector(</span><br><span class="line">                        onTap: () <span class="keyword">async</span>&#123;</span><br><span class="line">                          <span class="keyword">final</span> _app = <span class="string">&#x27;amzn://&#x27;</span>; <span class="comment">/// <span class="language-markdown">跳转到亚马逊app</span></span></span><br><span class="line">                          <span class="keyword">final</span> _url = _shopList[index].url;</span><br><span class="line">                          <span class="keyword">if</span>(<span class="keyword">await</span> canLaunch(_app)) &#123;</span><br><span class="line">                            <span class="keyword">await</span> launch(_app);</span><br><span class="line">                          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="keyword">await</span> canLaunch(_url) ? <span class="keyword">await</span> launch(_url) : Chili.showToast(<span class="string">&#x27;Could not launch amazon&#x27;</span>);</span><br><span class="line">                          &#125;</span><br><span class="line">                        &#125;,</span><br><span class="line">                        child: Container(<span class="comment">/// <span class="language-markdown">商品</span></span></span><br><span class="line">                          decoration: BoxDecoration(</span><br><span class="line">                              color: Colors.white,</span><br><span class="line">                              borderRadius: BorderRadius.circular(<span class="number">10.0</span>),</span><br><span class="line">                              boxShadow: [</span><br><span class="line">                                BoxShadow(</span><br><span class="line">                                  color: Color.fromRGBO(<span class="number">196</span>, <span class="number">208</span>, <span class="number">226</span>, <span class="number">0.15</span>),</span><br><span class="line">                                  offset: Offset(<span class="number">6.0</span>, <span class="number">6.0</span>),</span><br><span class="line">                                  blurRadius: <span class="number">6.0</span>,</span><br><span class="line">                                )</span><br><span class="line">                              ]</span><br><span class="line">                          ),</span><br><span class="line">                          child: Padding(</span><br><span class="line">                            padding: EdgeInsets.fromLTRB(<span class="number">8.0</span>, <span class="number">8.0</span>, <span class="number">8.0</span>, <span class="number">15.0</span>),</span><br><span class="line">                            child: Column(</span><br><span class="line">                              crossAxisAlignment: CrossAxisAlignment.center,</span><br><span class="line">                              children: [</span><br><span class="line">                                SizedBox(</span><br><span class="line">                                    width: <span class="number">151.0</span>,</span><br><span class="line">                                    height: <span class="number">151.0</span>,</span><br><span class="line">                                    <span class="comment">/// <span class="language-markdown">商品图片</span></span></span><br><span class="line">                                    child: CachedNetworkImage(</span><br><span class="line">                                      imageUrl: <span class="string">&#x27;<span class="subst">$&#123;Global.imgPath&#125;</span><span class="subst">$&#123;_shopList[index].thumbnail&#125;</span>&#x27;</span>,</span><br><span class="line">                                      fit: BoxFit.cover,</span><br><span class="line">                                      errorWidget: (context, url, error) =&gt; Icon(Icons.error),</span><br><span class="line">                                    )</span><br><span class="line">                                ),</span><br><span class="line">                                <span class="comment">/// <span class="language-markdown">名称</span></span></span><br><span class="line">                                Padding(</span><br><span class="line">                                  padding: EdgeInsets.symmetric(horizontal: <span class="number">8.0</span>, vertical: <span class="number">10.0</span>),</span><br><span class="line">                                  child: Text(_shopList[index].name, textAlign: TextAlign.center,style: TextStyle(color: Color(<span class="number">0xFF333333</span>), fontSize: <span class="number">12.0</span>)),</span><br><span class="line">                                ),</span><br><span class="line">                                <span class="comment">/// <span class="language-markdown">价格</span></span></span><br><span class="line">                                Text(<span class="string">&#x27;\$<span class="subst">$&#123;_shopList[index].price&#125;</span>&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFFF89B6</span>), fontSize: <span class="number">14.0</span>, letterSpacing: <span class="number">-0.01</span>))</span><br><span class="line">                              ],</span><br><span class="line">                            ),</span><br><span class="line">                          ),</span><br><span class="line">                        ),</span><br><span class="line">                      )</span><br><span class="line">                  ),</span><br></pre></td></tr></table></figure></div>

<h2 id="25-解决基线对齐"><a href="#25-解决基线对齐" class="headerlink" title="25.解决基线对齐"></a>25.解决基线对齐</h2><ol>
<li></li>
</ol>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">          crossAxisAlignment: CrossAxisAlignment.baseline,</span><br><span class="line">          textBaseline: TextBaseline.alphabetic,</span><br><span class="line">          children: [</span><br><span class="line">            Text(<span class="string">&#x27;反反复复:&#x27;</span>, style: TextStyle(fontSize: <span class="number">40.0</span>),),</span><br><span class="line">            SizedBox(width: <span class="number">10.0</span>,),</span><br><span class="line">            Text(<span class="string">&#x27;ff&#x27;</span>, style: TextStyle(fontSize: <span class="number">40.0</span>),)</span><br><span class="line">          ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li>给 Text 设置高度</li>
</ol>
<h2 id="26-图片裁剪"><a href="#26-图片裁剪" class="headerlink" title="26.图片裁剪"></a>26.图片裁剪</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">----------------------------主要逻辑----------------------------</span></span></span><br><span class="line"><span class="keyword">final</span> cropKey = GlobalKey&lt;CropState&gt;();</span><br><span class="line"><span class="comment">/// <span class="language-markdown">处理图片</span></span></span><br><span class="line">  Future _handleImage(File originalImage) <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">final</span> crop = cropKey.currentState;</span><br><span class="line">    <span class="keyword">final</span> scale = crop?.scale;</span><br><span class="line">    <span class="keyword">final</span> area = crop?.area;</span><br><span class="line">    <span class="keyword">late</span> File handeledImg;</span><br><span class="line">    <span class="keyword">if</span>(area == <span class="keyword">null</span> ) &#123;</span><br><span class="line">      Chili.showToast(<span class="string">&#x27;Save failed&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/// <span class="language-markdown">请求访问照片的权限</span></span></span><br><span class="line">    <span class="built_in">bool</span> result =  <span class="keyword">await</span> ImageCrop.requestPermissions();</span><br><span class="line">    <span class="keyword">if</span> (result) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        handeledImg = <span class="keyword">await</span> ImageCrop.cropImage(</span><br><span class="line">            file: originalImage,</span><br><span class="line">            scale: scale,</span><br><span class="line">            area: area</span><br><span class="line">        );</span><br><span class="line">      &#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">        Chili.showToast(e.toString());</span><br><span class="line">        Nav.pop();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">      handeledImg = originalImage; <span class="comment">/// <span class="language-markdown">失败则获取原来的图片路径</span></span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> handeledImg.path;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">返回处理完图片的路径</span></span></span><br><span class="line">                            _imgPath = <span class="keyword">await</span> _handleImage(File(widget.image));</span><br></pre></td></tr></table></figure></div>

<h2 id="27-选取图片"><a href="#27-选取图片" class="headerlink" title="27. 选取图片"></a>27. 选取图片</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">----------------------------主要逻辑----------------------------</span></span></span><br><span class="line"><span class="keyword">final</span> ImagePicker _picker = ImagePicker();</span><br><span class="line">XFile? image; <span class="comment">/// <span class="language-markdown">定义图片类型变量</span></span></span><br><span class="line">              <span class="built_in">bool</span> result = <span class="keyword">await</span> ShowModal.showText(</span><br><span class="line">                  context,</span><br><span class="line">                  title: <span class="string">&#x27;Select your operation&#x27;</span>,</span><br><span class="line">                  confirm: <span class="string">&#x27;Camera&#x27;</span>,</span><br><span class="line">                  cancel: <span class="string">&#x27;Album&#x27;</span></span><br><span class="line">              );</span><br><span class="line">              <span class="keyword">if</span>(result) &#123;</span><br><span class="line">                image = <span class="keyword">await</span> _picker.pickImage(source: ImageSource.camera, imageQuality: <span class="number">40</span>);</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                image = <span class="keyword">await</span> _picker.pickImage(source: ImageSource.gallery, imageQuality: <span class="number">40</span>);</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="comment">/// <span class="language-markdown">如果用户有选取图片则路由到截图</span></span></span><br><span class="line">              <span class="keyword">if</span>(image != <span class="keyword">null</span>) &#123;</span><br><span class="line">                Nav.push((context) =&gt;  CropImageScreen(image!.path));</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;path: <span class="subst">$&#123;image.path&#125;</span>&#x27;</span>);</span><br><span class="line">              &#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="28-flutter-blue"><a href="#28-flutter-blue" class="headerlink" title="28. flutter_blue"></a>28. flutter_blue</h2><ol>
<li><p>flutter_blue api</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">flutterBlue = FlutterBlue.instance.state</span><br><span class="line"></span><br><span class="line">flutterBlue.state</span><br><span class="line">flutterBlue.startScan()</span><br><span class="line">flutterBlue.connectedDevices</span><br><span class="line">flutterBlue.scanResults</span><br><span class="line">flutterBlue.isScanning</span><br><span class="line">flutterBlue.stopScan()</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>BluetoothState api</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> BluetoothState &#123;</span><br><span class="line">  unknown,</span><br><span class="line">  unavailable,</span><br><span class="line">  unauthorized,</span><br><span class="line">  turningOn,</span><br><span class="line">  <span class="keyword">on</span>,</span><br><span class="line">  turningOff,</span><br><span class="line">  off</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>BluetoothDeviceState</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> BluetoothDeviceState &#123; disconnected, connecting, connected, disconnecting &#125;</span><br></pre></td></tr></table></figure></div></li>
</ol>
<h2 id="29-自定义底部弹框"><a href="#29-自定义底部弹框" class="headerlink" title="29.自定义底部弹框"></a>29.自定义底部弹框</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ShowModal</span> </span>&#123;</span><br><span class="line"> <span class="keyword">static</span> Future&lt;<span class="built_in">bool</span>&gt; showText(context, &#123;title = <span class="string">&#x27;&#x27;</span>, text = <span class="string">&#x27;&#x27;</span>, confirm: <span class="string">&#x27;confirm&#x27;</span>, cancel = <span class="string">&#x27;cancel&#x27;</span>&#125;) <span class="keyword">async</span>&#123;</span><br><span class="line"> <span class="keyword">return</span> showModalBottomSheet(</span><br><span class="line">      context: context,</span><br><span class="line">      enableDrag: <span class="keyword">false</span>,</span><br><span class="line">      isDismissible: <span class="keyword">false</span>,</span><br><span class="line">      backgroundColor: Colors.white,</span><br><span class="line">      shape: RoundedRectangleBorder(</span><br><span class="line">          borderRadius: BorderRadius.only(</span><br><span class="line">            topLeft: Radius.circular(<span class="number">30.0</span>),</span><br><span class="line">            topRight: Radius.circular(<span class="number">30.0</span>),</span><br><span class="line">          )</span><br><span class="line">      ),</span><br><span class="line">      builder: (BuildContext context) &#123;</span><br><span class="line">        <span class="keyword">return</span> SingleChildScrollView(</span><br><span class="line">          child: Container(</span><br><span class="line">            padding: EdgeInsets.symmetric(horizontal: <span class="number">20.0</span>, vertical: <span class="number">15.0</span>),</span><br><span class="line">            child: Column(</span><br><span class="line">              children: [</span><br><span class="line">                <span class="comment">/// <span class="language-markdown">标题</span></span></span><br><span class="line">                Text(title, style: TextStyle(color: Color(<span class="number">0xFF333333</span>), fontSize: <span class="number">16.0</span>)),</span><br><span class="line">                <span class="comment">/// <span class="language-markdown">文本</span></span></span><br><span class="line">                text.isNotEmpty ? Container(</span><br><span class="line">                  margin: EdgeInsets.symmetric(vertical: <span class="number">15.0</span>),</span><br><span class="line">                  child: Text(text, textAlign: TextAlign.center, style: TextStyle(color: Color(<span class="number">0xFF999999</span>), fontSize: <span class="number">12.0</span>),</span><br><span class="line">                  ),</span><br><span class="line">                ) : Container(),</span><br><span class="line">                Row(</span><br><span class="line">                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,</span><br><span class="line">                  children: [</span><br><span class="line">                    <span class="comment">/// <span class="language-markdown">确认</span></span></span><br><span class="line">                    TextButton(</span><br><span class="line">                        onPressed: ()&#123;</span><br><span class="line">                          Nav.pop(<span class="keyword">true</span>);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        style: TextButton.styleFrom(</span><br><span class="line">                            backgroundColor: Color(<span class="number">0xFF5BCD49</span>),</span><br><span class="line">                            padding: EdgeInsets.zero,</span><br><span class="line">                            shape: RoundedRectangleBorder(</span><br><span class="line">                                borderRadius: BorderRadius.circular(<span class="number">13.5</span>)<span class="comment">/// <span class="language-markdown">外边框</span></span></span><br><span class="line">                            ),</span><br><span class="line">                            minimumSize: Size.zero</span><br><span class="line">                        ),</span><br><span class="line">                        child: Container(</span><br><span class="line">                          width: <span class="number">70.0</span>,</span><br><span class="line">                          padding: EdgeInsets.symmetric(vertical: <span class="number">5.0</span>),</span><br><span class="line">                          child: Center(child: Text(confirm, style: TextStyle(color: Colors.white, fontSize: <span class="number">12.0</span>))),</span><br><span class="line">                        )</span><br><span class="line">                    ),</span><br><span class="line">                    <span class="comment">/// <span class="language-markdown">取消</span></span></span><br><span class="line">                    TextButton(</span><br><span class="line">                        onPressed: ()&#123;</span><br><span class="line">                          Nav.pop(<span class="keyword">false</span>);</span><br><span class="line">                        &#125;,</span><br><span class="line">                        style: TextButton.styleFrom(</span><br><span class="line">                            padding: EdgeInsets.zero,</span><br><span class="line">                            backgroundColor: Colors.white,</span><br><span class="line">                            shape: RoundedRectangleBorder(</span><br><span class="line">                                borderRadius: BorderRadius.circular(<span class="number">13.5</span>),</span><br><span class="line">                                side: BorderSide(width: <span class="number">0.5</span>, color: Color(<span class="number">0xFF999999</span>)) <span class="comment">/// <span class="language-markdown">外边框</span></span></span><br><span class="line">                            ),</span><br><span class="line">                            minimumSize: Size.zero</span><br><span class="line">                        ),</span><br><span class="line">                        child: Container(</span><br><span class="line">                          width: <span class="number">70.0</span>,</span><br><span class="line">                          padding: EdgeInsets.symmetric(vertical: <span class="number">5.0</span>),</span><br><span class="line">                          child: Center(child: Text(cancel, style: TextStyle(color: Color(<span class="number">0xFF999999</span>), fontSize: <span class="number">12.0</span>))),</span><br><span class="line">                        )</span><br><span class="line">                    ),</span><br><span class="line">                  ],</span><br><span class="line">                )</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        );</span><br><span class="line">      &#125;,</span><br><span class="line">    ).then((value) =&gt; value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">调用</span></span></span><br><span class="line">              <span class="built_in">bool</span> result = <span class="keyword">await</span> ShowModal.showText(</span><br><span class="line">                  context,</span><br><span class="line">                  title: <span class="string">&#x27;Select your operation&#x27;</span>,</span><br><span class="line">                  confirm: <span class="string">&#x27;Camera&#x27;</span>,</span><br><span class="line">                  cancel: <span class="string">&#x27;Album&#x27;</span></span><br><span class="line">              );</span><br></pre></td></tr></table></figure></div>

<h2 id="30-常用正则表达式"><a href="#30-常用正则表达式" class="headerlink" title="30.常用正则表达式"></a>30.常用正则表达式</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">常用正则验证</span></span></span><br><span class="line"><span class="comment">/// <span class="language-markdown">@author [Huangch]</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CommonRegular</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">手机号</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">bool</span> isPhone(<span class="built_in">String</span> input) &#123;</span><br><span class="line">    <span class="built_in">RegExp</span> mobile = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">r&quot;1[0-9]\d&#123;9&#125;$&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> mobile.hasMatch(input);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">6~16位数字和字符组合</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">bool</span> isLoginPassword(<span class="built_in">String</span> input) &#123;</span><br><span class="line">    <span class="built_in">RegExp</span> password = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">r&quot;(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]&#123;6,16&#125;$&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> password.hasMatch(input);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">手机号屏蔽中间4位</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">String</span> shieldPhone(<span class="built_in">String</span> phoneNUm) &#123;</span><br><span class="line">    <span class="keyword">return</span> phoneNUm.replaceFirst(<span class="built_in">RegExp</span>(<span class="string">r&quot;\d&#123;4&#125;&quot;</span>), <span class="string">&quot;****&quot;</span>,<span class="number">3</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">身份证</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="built_in">bool</span> isNationalId(<span class="built_in">String</span> input) &#123;</span><br><span class="line">    <span class="built_in">RegExp</span> id = <span class="built_in">RegExp</span>(<span class="string">r&#x27;^(^[1-9]\d&#123;7&#125;((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d&#123;3&#125;$)|(^[1-9]\d&#123;5&#125;[1-9]\d&#123;3&#125;((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])((\d&#123;4&#125;)|\d&#123;3&#125;[Xx])$)$&#x27;</span>);</span><br><span class="line">    <span class="keyword">return</span> id.hasMatch(input);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="31-关于"><a href="#31-关于" class="headerlink" title="31.关于 ?"></a>31.关于 ?</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">slide[index]?.image != <span class="keyword">null</span>  <span class="comment">// ?. 如果slide[index]为null，则前半部分都为null</span></span><br></pre></td></tr></table></figure></div>

<h2 id="32-常用的登录表单布局"><a href="#32-常用的登录表单布局" class="headerlink" title="32.常用的登录表单布局"></a>32.常用的登录表单布局</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">child: Form(</span><br><span class="line">                    child: Column(</span><br><span class="line">                      children: [</span><br><span class="line">                        TextFormField(</span><br><span class="line">                          decoration: InputDecoration(</span><br><span class="line">                              prefixIconConstraints: BoxConstraints(</span><br><span class="line">                                maxWidth: <span class="number">15.0</span>,</span><br><span class="line">                                maxHeight: <span class="number">18.0</span></span><br><span class="line">                              ),</span><br><span class="line">                              prefixIcon: Image.asset(<span class="string">&#x27;icon_login_phone&#x27;</span>.webp,</span><br><span class="line">                                 fit: BoxFit.cover),</span><br><span class="line">                              hintStyle: TextStyle(</span><br><span class="line">                                  color: Color(<span class="number">0xFFBFBFBF</span>), fontSize: <span class="number">14.0</span>),</span><br><span class="line">                              hintText: <span class="string">&#x27;请输入手机号/邮箱&#x27;</span>),</span><br><span class="line">                        ),</span><br><span class="line">                        TextFormField(</span><br><span class="line">                            decoration: InputDecoration(</span><br><span class="line">                              contentPadding: EdgeInsets.only(left: <span class="number">20.0</span>),</span><br><span class="line">                                prefixIconConstraints: BoxConstraints(</span><br><span class="line">                                    maxWidth: <span class="number">15.0</span>,</span><br><span class="line">                                    maxHeight: <span class="number">18.0</span></span><br><span class="line">                                ),</span><br><span class="line">                                prefixIcon: Image.asset(</span><br><span class="line">                                  <span class="string">&#x27;icon_login_yanzhengma&#x27;</span>.webp,</span><br><span class="line">                                  fit: BoxFit.cover,</span><br><span class="line">                                ),</span><br><span class="line">                                border: UnderlineInputBorder(</span><br><span class="line">                                  borderSide: BorderSide(</span><br><span class="line">                                    color: Color(<span class="number">0xFFF5F6F7</span>)</span><br><span class="line">                                  )</span><br><span class="line">                                ),</span><br><span class="line">                                hintText: <span class="string">&#x27;请输入验证码&#x27;</span>))</span><br><span class="line">                      ],</span><br><span class="line">                    ),</span><br><span class="line">                  )</span><br></pre></td></tr></table></figure></div>

<h2 id="32-网络图片缓存组件"><a href="#32-网络图片缓存组件" class="headerlink" title="32.网络图片缓存组件"></a>32.网络图片缓存组件</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">CachedNetworkImage(</span><br><span class="line">                width: <span class="number">78.0</span>,</span><br><span class="line">                height: <span class="number">78.0</span>,</span><br><span class="line">                imageUrl: <span class="string">&#x27;https://gitee.com/littleJshao/figure-bed/raw/master/images/dragon-1.jpg&#x27;</span>,</span><br><span class="line">                progressIndicatorBuilder:</span><br><span class="line">                    (context, url, downloadProgress) =&gt;</span><br><span class="line">                    CupertinoActivityIndicator(),</span><br><span class="line">                fit: BoxFit.cover,</span><br><span class="line">                errorWidget: (context, url, error) =&gt;</span><br><span class="line">                    Icon(Icons.error),</span><br><span class="line">              )</span><br></pre></td></tr></table></figure></div>

<h2 id="33-解决华为手机在连接-Android-Studio-调试时出现异常：Error-while-Launching-activity"><a href="#33-解决华为手机在连接-Android-Studio-调试时出现异常：Error-while-Launching-activity" class="headerlink" title="33.解决华为手机在连接 Android Studio 调试时出现异常：Error while Launching activity"></a>33.解决华为手机在连接 Android Studio 调试时出现异常：Error while Launching activity</h2><p>百思不得其解，查找多方原因后才发现原来的应用被我从手机上卸载了，但是 Android Studio 却发现你的应用没卸载干净，导致两个应用签名不一致，所以在安装应用的时候会报出无法找到 MainActivity 入口的异常。</p>
<p>在终端中输入以下命令：</p>
<p>adb uninstall yourPakageName</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_44214671/article/details/109614908" >博客地址 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h2 id="34-CustomScrollView-之-Sliver-家族的-Widget"><a href="#34-CustomScrollView-之-Sliver-家族的-Widget" class="headerlink" title="34.CustomScrollView 之 Sliver 家族的 Widget"></a>34.CustomScrollView 之 Sliver 家族的 Widget</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">CustomScrollView buildCustomScrollView() &#123;</span><br><span class="line">   <span class="keyword">return</span> CustomScrollView(</span><br><span class="line">     <span class="comment">///<span class="language-markdown">反弹效果</span></span></span><br><span class="line">     physics: BouncingScrollPhysics(),</span><br><span class="line">     <span class="comment">///<span class="language-markdown">Sliver 家族的 Widget</span></span></span><br><span class="line">     slivers: &lt;Widget&gt;[</span><br><span class="line">       <span class="comment">///<span class="language-markdown">复杂的标题</span></span></span><br><span class="line">       buildSliverAppBar(),</span><br><span class="line">       <span class="comment">///<span class="language-markdown">间距</span></span></span><br><span class="line">       SliverPadding(</span><br><span class="line">         padding: EdgeInsets.all(<span class="number">5</span>),</span><br><span class="line">       ),</span><br><span class="line"></span><br><span class="line">       <span class="comment">///<span class="language-markdown">九宫格</span></span></span><br><span class="line">       buildSliverGrid(),</span><br><span class="line">       <span class="comment">///<span class="language-markdown">间距</span></span></span><br><span class="line">       SliverPadding(</span><br><span class="line">         padding: EdgeInsets.all(<span class="number">5</span>),</span><br><span class="line">       ),</span><br><span class="line">       <span class="comment">///<span class="language-markdown">列表</span></span></span><br><span class="line">       buildSliverFixedExtentList()</span><br><span class="line">     ],</span><br><span class="line">   );</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="35-Flutter-Wrap-流式布局嵌套循环-Row-导致占据一行问题"><a href="#35-Flutter-Wrap-流式布局嵌套循环-Row-导致占据一行问题" class="headerlink" title="35.Flutter Wrap 流式布局嵌套循环 Row 导致占据一行问题"></a>35.Flutter Wrap 流式布局嵌套循环 Row 导致占据一行问题</h2><p>项目中我们在使用 Wrap 去循环数据的时候，有一些 UI 需要使用到 Row 布局来进行展示，但是众所周知的是，Row 布局会占满一行，这就导致我们的 Wrap 失效了，如何解决呢？</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Wrap(</span><br><span class="line">     spacing:ScreenAdapter.setWidth(<span class="number">20</span>),<span class="comment">// 主轴(水平)方向间距</span></span><br><span class="line">     runSpacing:ScreenAdapter.setHeight(<span class="number">13</span>), <span class="comment">// 纵轴（垂直）方向间距</span></span><br><span class="line">     <span class="comment">// alignment: WrapAlignment.start, //沿主轴方向居中</span></span><br><span class="line">     direction:Axis.horizontal,</span><br><span class="line">     children: tagList.map&lt;Widget&gt;((item)&#123;</span><br><span class="line">       <span class="keyword">return</span> InkWell(</span><br><span class="line">         child: Container(</span><br><span class="line">             padding: EdgeInsets.symmetric(horizontal:ScreenAdapter.setWidth(<span class="number">20</span>), vertical:ScreenAdapter.setHeight(<span class="number">10</span>)),</span><br><span class="line">             decoration: BoxDecoration(</span><br><span class="line">               color:Color(<span class="number">0xffEEEEEE</span>),</span><br><span class="line">               borderRadius: BorderRadius.circular(<span class="number">20</span>)</span><br><span class="line">             ),</span><br><span class="line">             child:</span><br><span class="line">             RichText(</span><br><span class="line">               text: TextSpan(</span><br><span class="line">                 style: TextStyle(fontSize: <span class="number">25</span>, color: Colors.black, fontWeight:FontWeight.w500),</span><br><span class="line">                 children: [</span><br><span class="line">                   WidgetSpan(</span><br><span class="line">                     child: Container(</span><br><span class="line">                       width: <span class="number">30</span>,</span><br><span class="line">                       child: AspectRatio(</span><br><span class="line">                         aspectRatio: <span class="number">1</span>/<span class="number">1</span>,</span><br><span class="line">                         child: ClipRRect(</span><br><span class="line">                           borderRadius: BorderRadius.circular(<span class="number">20</span>),</span><br><span class="line">                           child: Container(</span><br><span class="line">                             color:Colors.white,</span><br><span class="line">                             child:Icon(Icons.add, size: <span class="number">20</span>, color:Color(<span class="number">0xffDB4739</span>))</span><br><span class="line">                           ),</span><br><span class="line">                         ),</span><br><span class="line">                       ),</span><br><span class="line">                     ),</span><br><span class="line">                   ),</span><br><span class="line">                   TextSpan(text:<span class="string">&#x27;<span class="subst">$&#123;item[<span class="string">&#x27;title&#x27;</span>]&#125;</span>&#x27;</span>)</span><br><span class="line">                 ]</span><br><span class="line">               ),</span><br><span class="line">             )</span><br><span class="line">         ),</span><br><span class="line">         onTap: ()&#123;</span><br><span class="line">           Navigator.pushNamed(context, <span class="string">&#x27;/themeDetails&#x27;</span>, arguments: &#123;<span class="string">&#x27;id&#x27;</span>:<span class="string">&#x27;3RDOl99mWb&#x27;</span>&#125;);</span><br><span class="line">         &#125;,</span><br><span class="line">       );</span><br><span class="line">     &#125;).toList()</span><br><span class="line">   )</span><br></pre></td></tr></table></figure></div>

<h2 id="36-flutter-输入框-TextField-设置高度以及背景色等样式的正确姿势"><a href="#36-flutter-输入框-TextField-设置高度以及背景色等样式的正确姿势" class="headerlink" title="36.flutter 输入框 TextField 设置高度以及背景色等样式的正确姿势"></a>36.<a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/yongfengnice/p/14143805.html" >flutter 输入框 TextField 设置高度以及背景色等样式的正确姿势 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><h2 id="37-Row-中-使用-Text，并实现超出隐藏"><a href="#37-Row-中-使用-Text，并实现超出隐藏" class="headerlink" title="37.Row 中 使用 Text，并实现超出隐藏"></a>37.Row 中 使用 Text，并实现超出隐藏</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Row(</span><br><span class="line">                mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">                children: [</span><br><span class="line">                  Flexible(</span><br><span class="line">                    child: Text(</span><br><span class="line">                        <span class="string">&#x27;<span class="subst">$&#123;(value?.toString()?.isEmpty ?? <span class="keyword">true</span>) ? <span class="string">&#x27;请选择&#x27;</span> : value.toString()&#125;</span>&#x27;</span>,</span><br><span class="line">                        overflow: TextOverflow.ellipsis,</span><br><span class="line">                        style: TextStyle(</span><br><span class="line">                            fontSize: <span class="number">14.0</span>, color: Color(<span class="number">0xFF999999</span>))),</span><br><span class="line">                  ),</span><br><span class="line">                  Image.asset(<span class="string">&#x27;btn_common_right&#x27;</span>.webp,</span><br><span class="line">                      width: <span class="number">28.0</span>, height: <span class="number">28.0</span>, fit: BoxFit.cover)</span><br><span class="line">                ],</span><br><span class="line">              )</span><br></pre></td></tr></table></figure></div>

<h2 id="38-DropdownButton"><a href="#38-DropdownButton" class="headerlink" title="38.DropdownButton"></a>38.DropdownButton</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">DropdownButton(</span><br><span class="line">                         alignment: AlignmentDirectional.centerEnd,</span><br><span class="line">                         items: <span class="built_in">List</span>.generate(</span><br><span class="line">                           _goodsType.length,</span><br><span class="line">                           (index) =&gt; DropdownMenuItem(</span><br><span class="line">                             child: Text(_goodsType[index].name!),</span><br><span class="line">                             value: _goodsType[index].id,</span><br><span class="line">                           ),</span><br><span class="line">                         ),</span><br><span class="line">                         value: goodsCategory.id,</span><br><span class="line">                         isDense: <span class="keyword">true</span>,</span><br><span class="line">                         style: TextStyle(</span><br><span class="line">                             fontSize: <span class="number">14.0</span>, color: Color(<span class="number">0xFF333333</span>)),</span><br><span class="line">                         onChanged: (val) &#123;</span><br><span class="line">                           setter(() &#123;</span><br><span class="line">                             goodsCategory.id = val <span class="keyword">as</span> <span class="built_in">int</span>;</span><br><span class="line">                           &#125;);</span><br><span class="line">                         &#125;,</span><br><span class="line">                         icon: Image.asset(</span><br><span class="line">                           <span class="string">&#x27;btn_common_down&#x27;</span>.webp,</span><br><span class="line">                           width: <span class="number">28.0</span>,</span><br><span class="line">                           height: <span class="number">29.0</span>,</span><br><span class="line">                           fit: BoxFit.cover,</span><br><span class="line">                         ),</span><br><span class="line">                         underline: Container(),</span><br><span class="line">                       )</span><br></pre></td></tr></table></figure></div>

<h2 id="39-复杂列表的使用，并保持销毁，初始化"><a href="#39-复杂列表的使用，并保持销毁，初始化" class="headerlink" title="39.复杂列表的使用，并保持销毁，初始化"></a>39.复杂列表的使用，并保持销毁，初始化</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">CustomScrollView(</span><br><span class="line">            slivers: [</span><br><span class="line">              SliverList(</span><br><span class="line">                delegate: SliverChildListDelegate([</span><br><span class="line">                  GoogleMapScreen(</span><br><span class="line">                      latitude: <span class="number">2.0</span>, longitude: <span class="number">2.0</span>, onTap: (pos) &#123;&#125;)</span><br><span class="line">                ]),</span><br><span class="line">              ),</span><br><span class="line">              SliverList(</span><br><span class="line">                  delegate: SliverChildBuilderDelegate(</span><br><span class="line">                        (context, index) &#123;</span><br><span class="line">                      <span class="built_in">List</span>&lt;<span class="built_in">String</span>&gt; images = _list[index].images!.split(<span class="string">&#x27;;&#x27;</span>);</span><br><span class="line">                      <span class="keyword">return</span> DataCard(</span><br><span class="line">                        info: [</span><br><span class="line">                          labelText(<span class="string">&#x27;仓库名称：&#x27;</span>, <span class="string">&#x27;<span class="subst">$&#123;_list[index].name&#125;</span>&#x27;</span>),</span><br><span class="line">                          labelText(<span class="string">&#x27;仓库地址：&#x27;</span>, <span class="string">&#x27;<span class="subst">$&#123;_list[index].address&#125;</span>&#x27;</span>),</span><br><span class="line">                          labelText(<span class="string">&#x27;仓库电话：&#x27;</span>, <span class="string">&#x27;<span class="subst">$&#123;_list[index].contactsPhone&#125;</span>&#x27;</span>),</span><br><span class="line">                          labelText(<span class="string">&#x27;当前距离：：&#x27;</span>, <span class="string">&#x27;<span class="subst">$&#123;_list[index].distance&#125;</span>&#x27;</span>),</span><br><span class="line">                        ],</span><br><span class="line">                        imageWrap: images,</span><br><span class="line">                        btnGroup: [</span><br><span class="line">                          customButton(text: <span class="string">&#x27;一键导航&#x27;</span>, callback: () &#123;&#125;),</span><br><span class="line">                          customButton(text: <span class="string">&#x27;拨打电话&#x27;</span>, callback: () &#123;&#125;),</span><br><span class="line">                        ],</span><br><span class="line">                      );</span><br><span class="line">                    &#125;,</span><br><span class="line">                    childCount: _list.length,</span><br><span class="line">                  ))</span><br><span class="line">            ],</span><br><span class="line">          )</span><br></pre></td></tr></table></figure></div>

<h2 id="40-类似-label-标签，带有外边框"><a href="#40-类似-label-标签，带有外边框" class="headerlink" title="40.类似 label 标签，带有外边框"></a>40.类似 label 标签，带有外边框</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">      margin: EdgeInsets.only(right: <span class="number">8.0</span>),</span><br><span class="line">      padding: EdgeInsets.symmetric(horizontal: <span class="number">6.0</span>, vertical: <span class="number">2.0</span>),</span><br><span class="line">      decoration: BoxDecoration(</span><br><span class="line">          color: Color.fromRGBO(<span class="number">255</span>, <span class="number">159</span>, <span class="number">33</span>, <span class="number">0.08</span>),</span><br><span class="line">          border: Border.all(color: Color(<span class="number">0xFFFF9F21</span>)),</span><br><span class="line">          borderRadius: BorderRadius.all(Radius.circular(<span class="number">4.0</span>))),</span><br><span class="line">      child: Text(<span class="string">&#x27;<span class="subst">$&#123;text&#125;</span>&#x27;</span>,</span><br><span class="line">          style: TextStyle(color: Color(<span class="number">0xFFFF9F21</span>), fontSize: <span class="number">12.0</span>)),</span><br><span class="line">    )</span><br></pre></td></tr></table></figure></div>

<h2 id="41-安卓内部更新-ota-update"><a href="#41-安卓内部更新-ota-update" class="headerlink" title="41.安卓内部更新 ota_update"></a>41.安卓内部更新 ota_update</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">void</span> _updateVersion() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (Platform.isIOS)&#123;</span><br><span class="line">      <span class="built_in">String</span> url = <span class="string">&#x27;<span class="subst">$&#123;widget.data.url&#125;</span>&#x27;</span>; <span class="comment">// 这是微信的地址，到时候换成自己的应用的地址</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">await</span> canLaunch(url))&#123;</span><br><span class="line">        <span class="keyword">await</span> launch(url);</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="string">&#x27;Could not launch <span class="subst">$url</span>&#x27;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span> (Platform.isAndroid)&#123;</span><br><span class="line">      <span class="built_in">String</span> url = <span class="string">&#x27;<span class="subst">$&#123;widget.data.url&#125;</span>&#x27;</span>;</span><br><span class="line">      <span class="built_in">print</span>(<span class="string">&#x27;下载的链接：<span class="subst">$&#123;widget.data.url&#125;</span>&#x27;</span>);</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// destinationFilename 是对下载的apk进行重命名</span></span><br><span class="line">        OtaUpdate().execute(url, destinationFilename: <span class="string">&#x27;news.apk&#x27;</span>).listen(</span><br><span class="line">              (OtaEvent event) &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;status:<span class="subst">$&#123;event.status&#125;</span>,value:<span class="subst">$&#123;event.value&#125;</span>&#x27;</span>);</span><br><span class="line">            <span class="keyword">switch</span>(event.status)&#123;</span><br><span class="line">              <span class="keyword">case</span> OtaStatus.DOWNLOADING:<span class="comment">// 下载中</span></span><br><span class="line">                setState(() &#123;</span><br><span class="line">                  progress = <span class="string">&#x27;下载进度:<span class="subst">$&#123;event.value&#125;</span>%&#x27;</span>;</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> OtaStatus.INSTALLING: <span class="comment">//安装中</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;安装中&#x27;</span>);</span><br><span class="line">                progress=<span class="keyword">null</span>;</span><br><span class="line">                setState(() &#123;&#125;);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">case</span> OtaStatus.PERMISSION_NOT_GRANTED_ERROR: <span class="comment">// 权限错误</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;更新失败，请稍后再试&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">              <span class="keyword">default</span>: <span class="comment">// 其他问题</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;其他问题&#x27;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">        );</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;更新失败，请稍后再试&#x27;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">///<span class="language-markdown">api--版本更新检查</span></span></span><br><span class="line">  ApplicationFindLatestData data;</span><br><span class="line">  _applicationFindLatest(<span class="built_in">String</span> platform) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> RequestUtil.applicationFindLatest(</span><br><span class="line">      NoActionIntercept(<span class="keyword">this</span>),</span><br><span class="line">      platform,</span><br><span class="line">    ).then((res) &#123;</span><br><span class="line">      <span class="keyword">if</span>(res.code==<span class="number">200</span>)&#123;</span><br><span class="line">        data = res.data;</span><br><span class="line">        Commons.isCheckUpData = <span class="keyword">true</span>;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;现在版本号：<span class="subst">$&#123;LocalStorage.get(Commons.VERSION)&#125;</span>  目标：<span class="subst">$&#123;data.name&#125;</span>&#x27;</span>);</span><br><span class="line">        <span class="keyword">if</span> (data.name != LocalStorage.<span class="keyword">get</span>(Commons.VERSION)) &#123;</span><br><span class="line"><span class="comment">//        Commons.isShowUpData = true;</span></span><br><span class="line">          showDialog(context: context,builder: (context)&#123;</span><br><span class="line">            <span class="keyword">return</span> UpdateApp(data: data,);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          showToast(<span class="string">&#x27;已是最新版本&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        setState(() &#123;&#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).catchError((e) &#123;&#125;);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="43-打开外部链接-url-launcher"><a href="#43-打开外部链接-url-launcher" class="headerlink" title="43.打开外部链接 url_launcher"></a>43.打开外部链接 url_launcher</h2><ol>
<li>android 配置</li>
</ol>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;queries&gt;</span><br><span class="line">  &lt;!-- If your app opens https URLs --&gt;</span><br><span class="line">  &lt;intent&gt;</span><br><span class="line">    &lt;action android:name=<span class="string">&quot;android.intent.action.VIEW&quot;</span> /&gt;</span><br><span class="line">    &lt;data android:scheme=<span class="string">&quot;https&quot;</span> /&gt;</span><br><span class="line">  &lt;/intent&gt;</span><br><span class="line">  &lt;!-- If your app makes calls --&gt;</span><br><span class="line">  &lt;intent&gt;</span><br><span class="line">    &lt;action android:name=<span class="string">&quot;android.intent.action.DIAL&quot;</span> /&gt;</span><br><span class="line">    &lt;data android:scheme=<span class="string">&quot;tel&quot;</span> /&gt;</span><br><span class="line">  &lt;/intent&gt;</span><br><span class="line">  &lt;!-- If your app emails --&gt;</span><br><span class="line">  &lt;intent&gt;</span><br><span class="line">    &lt;action android:name=<span class="string">&quot;android.intent.action.SEND&quot;</span> /&gt;</span><br><span class="line">    &lt;data android:mimeType=<span class="string">&quot;*/*&quot;</span> /&gt;</span><br><span class="line">  &lt;/intent&gt;</span><br><span class="line">&lt;/queries&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<ol start="2">
<li><p>ios 配置</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;LSApplicationQueriesSchemes&lt;/key&gt;</span><br><span class="line">&lt;array&gt;</span><br><span class="line">  &lt;string&gt;https&lt;/string&gt;</span><br><span class="line">  &lt;string&gt;http&lt;/string&gt;</span><br><span class="line">&lt;/array&gt;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>使用</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> _launchURL() <span class="keyword">async</span> =&gt;</span><br><span class="line">    <span class="keyword">await</span> canLaunch(_url) ? <span class="keyword">await</span> launch(_url) : <span class="keyword">throw</span> <span class="string">&#x27;Could not launch <span class="subst">$_url</span>&#x27;</span>;</span><br></pre></td></tr></table></figure></div></li>
</ol>
<p>&#x3D;&#x3D;使用注意：url 要加特定的前缀；例如：‘tel’+url 调用拨号界面&#x3D;&#x3D;</p>
<h2 id="44-flutter-打包的-app-闪退"><a href="#44-flutter-打包的-app-闪退" class="headerlink" title="44.flutter 打包的 app 闪退"></a>44.flutter 打包的 app 闪退</h2><p>在 app 下面的 build.gradle 中：</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关闭混淆, 否则在运行release包后可能出现运行崩溃， TODO后续进行混淆配置</span></span><br><span class="line">minifyEnabled <span class="keyword">false</span> <span class="comment">//删除无用代码</span></span><br><span class="line">shrinkResources <span class="keyword">false</span> <span class="comment">//删除无用资源</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    buildTypes &#123;</span><br><span class="line">        release &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> Add your own signing config for the release build.</span></span><br><span class="line">            <span class="comment">// Signing with the debug keys for now, so `flutter run --release` works.</span></span><br><span class="line">            signingConfig signingConfigs.release</span><br><span class="line">            minifyEnabled <span class="keyword">false</span> <span class="comment">//删除无用代码</span></span><br><span class="line">            shrinkResources <span class="keyword">false</span> <span class="comment">//删除无用资源</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="46-ios-加载（loading）"><a href="#46-ios-加载（loading）" class="headerlink" title="46. ios 加载（loading）"></a>46. ios 加载（loading）</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CupertinoActivityIndicator()</span><br></pre></td></tr></table></figure></div>

<h2 id="47-flutter-查看-pdf-文件"><a href="#47-flutter-查看-pdf-文件" class="headerlink" title="47.flutter 查看 pdf 文件"></a>47.flutter 查看 pdf 文件</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#A package to <span class="keyword">show</span> Native PDF View <span class="keyword">for</span> iOS and Android, support Open from a different resource like Path, Asset or Url and Cache it.</span><br><span class="line">flutter_cached_pdfview</span><br></pre></td></tr></table></figure></div>

<h2 id="48-轮播"><a href="#48-轮播" class="headerlink" title="48.轮播"></a>48.轮播</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">CarouselSlider(</span><br><span class="line">                         <span class="comment">/// <span class="language-markdown">轮播</span></span></span><br><span class="line">                         carouselController: _controller,</span><br><span class="line">                         options: CarouselOptions(</span><br><span class="line">                             autoPlay: <span class="keyword">true</span>,</span><br><span class="line">                             viewportFraction: <span class="number">1</span>,</span><br><span class="line">                             height: <span class="number">281.0</span>,</span><br><span class="line">                           onPageChanged: (index, res) &#123;</span><br><span class="line">                               setState(() &#123;</span><br><span class="line">                                 _currBanner = index;</span><br><span class="line">                               &#125;);</span><br><span class="line">                           &#125;</span><br><span class="line">                         ),</span><br><span class="line">                         items: bannerList</span><br><span class="line">                             .map((data) =&gt;</span><br><span class="line">                                 Builder(builder: (BuildContext context) &#123;</span><br><span class="line">                                   <span class="keyword">return</span> GestureDetector(</span><br><span class="line">                                     onTap: () &#123;</span><br><span class="line">                                       <span class="keyword">if</span>(data.link!.isNotEmpty) &#123;</span><br><span class="line">                                         Utils.openUrl(data.link!);</span><br><span class="line">                                         <span class="keyword">return</span>;</span><br><span class="line">                                       &#125;</span><br><span class="line">                                       Nav.push(</span><br><span class="line">                                           (context) =&gt; BannerDetailScreen(</span><br><span class="line">                                                 title: data.title!,</span><br><span class="line">                                                 bannerId: data.id!,</span><br><span class="line">                                               ));</span><br><span class="line">                                     &#125;,</span><br><span class="line">                         <span class="comment">///<span class="language-markdown">控制图片显示的尺寸主要正对下面的CachedNetworkImage修改即可，例如图片无法撑开宽度则设置width:double.maxFinite,</span></span></span><br><span class="line">                                     child: CachedNetworkImage(</span><br><span class="line">                                       width: <span class="built_in">double</span>.maxFinite,</span><br><span class="line">                                       imageUrl:</span><br><span class="line">                                           <span class="string">&#x27;<span class="subst">$&#123;Global.baseImageUrl&#125;</span><span class="subst">$&#123;data.image&#125;</span>&#x27;</span>,</span><br><span class="line">                                       progressIndicatorBuilder:</span><br><span class="line">                                           (context, url, downloadProgress) =&gt;</span><br><span class="line">                                               CupertinoActivityIndicator(),</span><br><span class="line">                                       height: <span class="number">281.0</span>,</span><br><span class="line">                                       fit: BoxFit.cover,</span><br><span class="line">                                       errorWidget: (context, url, error) =&gt;</span><br><span class="line">                                           Icon(Icons.error),</span><br><span class="line">                                     ),</span><br><span class="line">                                   );</span><br><span class="line">                                 &#125;))</span><br><span class="line">                       )</span><br></pre></td></tr></table></figure></div>

<h2 id="49-谷歌路线图"><a href="#49-谷歌路线图" class="headerlink" title="49.谷歌路线图"></a>49.谷歌路线图</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter_polyline_points/flutter_polyline_points.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:google_maps_flutter/google_maps_flutter.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">查看司机位置</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CheckDriverPosition</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> CheckDriverPosition(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.destLocation, <span class="keyword">required</span> <span class="keyword">this</span>.originLocation, Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map</span> originLocation;</span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">Map</span> destLocation;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;CheckDriverPosition&gt; createState() =&gt; _CheckDriverPositionState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_CheckDriverPositionState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">CheckDriverPosition</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  GoogleMapController? _mapController;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">标记点列表</span></span></span><br><span class="line">  <span class="built_in">Map</span>&lt;MarkerId, Marker&gt; markers = &lt;MarkerId, Marker&gt;&#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">初始化视野 的经纬度</span></span></span><br><span class="line">  <span class="built_in">double</span> centerLat = <span class="number">0</span> ;</span><br><span class="line">  <span class="built_in">double</span> centerLong = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">Map</span>&lt;PolylineId, Polyline&gt; polylines = &#123;&#125;;</span><br><span class="line">  <span class="built_in">List</span>&lt;LatLng&gt; polylineCoordinates = [];</span><br><span class="line">  PolylinePoints polylinePoints = PolylinePoints();</span><br><span class="line">  <span class="built_in">String</span> googleApiKey = <span class="string">&#x27;AIzaSyAEF80-c_mLIj7PxKi6XU8qlkAvvH3fbhM&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    <span class="comment">// /// origin marker</span></span><br><span class="line">    _addMarker(LatLng(widget.originLocation[<span class="string">&quot;lat&quot;</span>], widget.originLocation[<span class="string">&quot;long&quot;</span>]), <span class="string">&quot;origin&quot;</span>,</span><br><span class="line">        BitmapDescriptor.defaultMarker);</span><br><span class="line">    <span class="comment">/// <span class="language-markdown">destination marker</span></span></span><br><span class="line">    _addMarker(LatLng(widget.destLocation[<span class="string">&quot;lat&quot;</span>], widget.destLocation[<span class="string">&quot;long&quot;</span>]), <span class="string">&quot;destination&quot;</span>,</span><br><span class="line">        BitmapDescriptor.defaultMarker);</span><br><span class="line">    _getPolyline();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">        backgroundColor: Color(<span class="number">0xffF9F9F9</span>),</span><br><span class="line">        appBar: AppBar(</span><br><span class="line">          leading: IconButton(</span><br><span class="line">            onPressed: () &#123;</span><br><span class="line">              Nav.pop();</span><br><span class="line">            &#125;,</span><br><span class="line">            icon: Image.asset(<span class="string">&#x27;btn_common_left&#x27;</span>.webp,</span><br><span class="line">                width: <span class="number">28.0</span>, fit: BoxFit.cover),</span><br><span class="line">          ),</span><br><span class="line">          title: Text(</span><br><span class="line">            <span class="string">&#x27;查看司机位置&#x27;</span>.i18n,</span><br><span class="line">            style: TextStyle(fontSize: <span class="number">18</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        body: GoogleMap(</span><br><span class="line">          zoomControlsEnabled: <span class="keyword">false</span>,</span><br><span class="line">          polylines: <span class="built_in">Set</span>&lt;Polyline&gt;.of(polylines.values),</span><br><span class="line">          initialCameraPosition: CameraPosition(</span><br><span class="line">            zoom: <span class="number">10.0</span>,</span><br><span class="line">            target: LatLng(widget.originLocation[<span class="string">&#x27;lat&#x27;</span>], widget.originLocation[<span class="string">&#x27;long&#x27;</span>]),</span><br><span class="line">          ),</span><br><span class="line">          onMapCreated: _onMapCreated,</span><br><span class="line">          myLocationEnabled: <span class="keyword">true</span>,</span><br><span class="line">          <span class="comment">// markers: Set&lt;Marker&gt;.of(markers.values),</span></span><br><span class="line">          tiltGesturesEnabled: <span class="keyword">true</span>,</span><br><span class="line">          compassEnabled: <span class="keyword">true</span>,</span><br><span class="line">        ));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _onMapCreated(GoogleMapController controller) <span class="keyword">async</span> &#123;</span><br><span class="line">    _mapController = controller;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _addMarker(LatLng position, <span class="built_in">String</span> id, BitmapDescriptor descriptor) &#123;</span><br><span class="line">    MarkerId markerId = MarkerId(id);</span><br><span class="line">    Marker marker =</span><br><span class="line">    Marker(markerId: markerId, icon: descriptor, position: position);</span><br><span class="line">    markers[markerId] = marker;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _addPolyLine() &#123;</span><br><span class="line">    PolylineId id = PolylineId(<span class="string">&quot;poly&quot;</span>);</span><br><span class="line">    Polyline polyline = Polyline(</span><br><span class="line">      polylineId: id,</span><br><span class="line">      color: Color(<span class="number">0xFFFF9F21</span>),</span><br><span class="line">      points: polylineCoordinates,</span><br><span class="line">      width: <span class="number">5</span>,</span><br><span class="line">    );</span><br><span class="line">    polylines[id] = polyline;</span><br><span class="line">    setState(() &#123;&#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  _getPolyline() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">await</span> polylinePoints</span><br><span class="line">        .getRouteBetweenCoordinates(</span><br><span class="line">      googleApiKey,</span><br><span class="line">      PointLatLng(widget.originLocation[<span class="string">&#x27;lat&#x27;</span>], widget.originLocation[<span class="string">&#x27;long&#x27;</span>]),</span><br><span class="line">      PointLatLng(widget.destLocation[<span class="string">&#x27;lat&#x27;</span>], widget.destLocation[<span class="string">&#x27;long&#x27;</span>]),</span><br><span class="line">      wayPoints: [</span><br><span class="line">        PolylineWayPoint(location: <span class="string">&quot;22.802306,113.164728&quot;</span>),</span><br><span class="line">        PolylineWayPoint(location: <span class="string">&quot;22.557069, 113.429766&quot;</span>),</span><br><span class="line">      ],</span><br><span class="line">      travelMode: TravelMode.driving,</span><br><span class="line">    ) .then((value) &#123;</span><br><span class="line">      <span class="keyword">if</span> (value.points.isNotEmpty) &#123;</span><br><span class="line">        value.points.forEach((PointLatLng point) &#123;</span><br><span class="line">          polylineCoordinates.add(LatLng(point.latitude, point.longitude));</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">      _addPolyLine();</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">///<span class="language-markdown">获取起点与终点之间 中间的经纬度坐标</span></span></span><br><span class="line">  <span class="comment">// void getCenterLonLat()&#123;</span></span><br><span class="line">  <span class="comment">//   centerLat = widget.originLocation[&#x27;lat&#x27;] - widget.destLocation[&#x27;lat&#x27;];</span></span><br><span class="line">  <span class="comment">//   centerLong = widget.originLocation[&#x27;long&#x27;] - widget.destLocation[&#x27;long&#x27;];</span></span><br><span class="line">  <span class="comment">//   //Math.abs()绝对值</span></span><br><span class="line">  <span class="comment">//   if( centerLong &gt; 0)&#123;</span></span><br><span class="line">  <span class="comment">//     centerLong = widget.originLocation[&#x27;long&#x27;] - centerLong.abs()   / 2;</span></span><br><span class="line">  <span class="comment">//   &#125;else&#123;</span></span><br><span class="line">  <span class="comment">//     centerLong = widget.destLocation[&#x27;long&#x27;] - centerLong.abs() / 2;</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">//   if( centerLat &gt; 0)&#123;</span></span><br><span class="line">  <span class="comment">//     centerLat = widget.originLocation[&#x27;lat&#x27;] -  centerLat.abs() / 2;</span></span><br><span class="line">  <span class="comment">//   &#125;else&#123;</span></span><br><span class="line">  <span class="comment">//     centerLat = widget.destLocation[&#x27;lat&#x27;] - centerLat.abs() / 2;</span></span><br><span class="line">  <span class="comment">//   &#125;</span></span><br><span class="line">  <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="50-下载文件的-demo-不能正常运行，相关方法只做参考"><a href="#50-下载文件的-demo-不能正常运行，相关方法只做参考" class="headerlink" title="50.下载文件的 demo(不能正常运行，相关方法只做参考)"></a>50.下载文件的 demo(不能正常运行，相关方法只做参考)</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:isolate&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_info_plus/device_info_plus.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/cupertino.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter_downloader/flutter_downloader.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:path_provider/path_provider.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:permission_handler/permission_handler.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:ting_hui_wu_liu_user_app/global.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DownloadFileWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> DownloadFileWidget(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.link, Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载链接</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> link;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _DownloadFileWidgetState createState() =&gt; _DownloadFileWidgetState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_DownloadFileWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">DownloadFileWidget</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">当前的任务</span></span></span><br><span class="line">  <span class="keyword">late</span> TaskInfo _task;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">侦听器</span></span></span><br><span class="line">  ReceivePort _port = ReceivePort();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">保存路径</span></span></span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">String</span> _localPath;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">绑定前台和后台之间的通信</span></span></span><br><span class="line">  <span class="keyword">void</span> _bindBackgroundIsolate() &#123;</span><br><span class="line">    <span class="built_in">bool</span> isSuccess = IsolateNameServer.registerPortWithName(</span><br><span class="line">        _port.sendPort, <span class="string">&#x27;downloader_send_port&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isSuccess) &#123;</span><br><span class="line">      _unbindBackgroundIsolate();</span><br><span class="line">      _bindBackgroundIsolate();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    _port.listen((<span class="built_in">dynamic</span> data) &#123;</span><br><span class="line">      <span class="comment">// if (debug) &#123;</span></span><br><span class="line">      <span class="comment">//   print(&#x27;UI Isolate Callback: $data&#x27;);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="built_in">String?</span> id = data[<span class="number">0</span>];</span><br><span class="line">      DownloadTaskStatus? status = data[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">int?</span> progress = data[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// if (_tasks != null &amp;&amp; _tasks!.isNotEmpty) &#123;</span></span><br><span class="line">      <span class="comment">//   final task = _tasks!.firstWhere((task) =&gt; task.taskId == id);</span></span><br><span class="line">      <span class="comment">//   setState(() &#123;</span></span><br><span class="line">      <span class="comment">//     task.status = status;</span></span><br><span class="line">      <span class="comment">//     task.progress = progress;</span></span><br><span class="line">      <span class="comment">//   &#125;);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">检查权限</span></span></span><br><span class="line">  Future&lt;<span class="built_in">bool</span>&gt; _checkPermission() <span class="keyword">async</span> &#123;</span><br><span class="line">    DeviceInfoPlugin deviceInfo = DeviceInfoPlugin();</span><br><span class="line">    AndroidDeviceInfo androidInfo = <span class="keyword">await</span> deviceInfo.androidInfo;</span><br><span class="line">    <span class="keyword">if</span> (Theme.of(context).platform == TargetPlatform.android &amp;&amp;</span><br><span class="line">        androidInfo.version.sdkInt! &lt;= <span class="number">28</span>) &#123;</span><br><span class="line">      <span class="keyword">final</span> status = <span class="keyword">await</span> Permission.storage.status;</span><br><span class="line">      <span class="keyword">if</span> (status != PermissionStatus.granted) &#123;</span><br><span class="line">        <span class="keyword">final</span> result = <span class="keyword">await</span> Permission.storage.request();</span><br><span class="line">        <span class="keyword">if</span> (result == PermissionStatus.granted) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">设置保存路径</span></span></span><br><span class="line">  Future&lt;<span class="built_in">String?</span>&gt; _findLocalPath() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> externalStorageDirPath;</span><br><span class="line">    <span class="keyword">if</span> (Platform.isAndroid) &#123;</span><br><span class="line">      <span class="keyword">final</span> directory = <span class="keyword">await</span> getExternalStorageDirectory();</span><br><span class="line">      externalStorageDirPath = directory?.path;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Platform.isIOS) &#123;</span><br><span class="line">      externalStorageDirPath =</span><br><span class="line">          (<span class="keyword">await</span> getApplicationDocumentsDirectory()).absolute.path;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// print(&#x27;externalStorageDirPath:\n$externalStorageDirPath&#x27;);</span></span><br><span class="line">    <span class="keyword">return</span> externalStorageDirPath;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;<span class="keyword">void</span>&gt; _prepareSaveDir() <span class="keyword">async</span> &#123;</span><br><span class="line">    _localPath = (<span class="keyword">await</span> _findLocalPath())!;</span><br><span class="line">    <span class="keyword">final</span> savedDir = Directory(_localPath);</span><br><span class="line">    <span class="built_in">bool</span> hasExisted = <span class="keyword">await</span> savedDir.exists();</span><br><span class="line">    <span class="keyword">if</span> (!hasExisted) &#123;</span><br><span class="line">      savedDir.create();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">初始化存储路径，存储权限，获取本地所有任务信息</span></span></span><br><span class="line">  Future&lt;<span class="keyword">void</span>&gt; _prepare() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="comment">/// <span class="language-markdown">获取本地的所有任务信息</span></span></span><br><span class="line">    <span class="keyword">final</span> <span class="built_in">List</span>&lt;DownloadTask&gt; ?tasks = <span class="keyword">await</span> FlutterDownloader.loadTasks();</span><br><span class="line">    tasks!.forEach((item) &#123;</span><br><span class="line">      <span class="keyword">if</span>(item.url == _task.link) &#123;</span><br><span class="line">        _task.taskId = item.taskId;</span><br><span class="line">        _task.status = item.status;</span><br><span class="line">        _task.progress = item.progress;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">await</span> _checkPermission()) &#123;</span><br><span class="line">      <span class="keyword">await</span> _prepareSaveDir();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载的回调</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> downloadCallback(</span><br><span class="line">      <span class="built_in">String</span> id, DownloadTaskStatus status, <span class="built_in">int</span> progress) &#123;</span><br><span class="line">    <span class="comment">// if (debug) &#123;</span></span><br><span class="line">    <span class="comment">//   print(</span></span><br><span class="line">    <span class="comment">//       &#x27;Background Isolate Callback: task ($id) is in status ($status) and process ($progress)&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">final</span> SendPort send =</span><br><span class="line">    IsolateNameServer.lookupPortByName(<span class="string">&#x27;downloader_send_port&#x27;</span>)!;</span><br><span class="line">    send.send([id, status, progress]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">销毁前后台之间的通信</span></span></span><br><span class="line">  <span class="keyword">void</span> _unbindBackgroundIsolate() &#123;</span><br><span class="line">    IsolateNameServer.removePortNameMapping(<span class="string">&#x27;downloader_send_port&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">请求下载</span></span></span><br><span class="line">  <span class="keyword">void</span> _requestDownload(TaskInfo task) <span class="keyword">async</span> &#123;</span><br><span class="line">    task.taskId = <span class="keyword">await</span> FlutterDownloader.enqueue(</span><br><span class="line">      url: task.link!,</span><br><span class="line">      headers: &#123;<span class="string">&quot;auth&quot;</span>: <span class="string">&quot;test_for_sql_encoding&quot;</span>&#125;,</span><br><span class="line">      savedDir: _localPath,</span><br><span class="line">      showNotification: <span class="keyword">true</span>,</span><br><span class="line">      openFileFromNotification: <span class="keyword">true</span>,</span><br><span class="line">      saveInPublicStorage: <span class="keyword">true</span>,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">重新下载</span></span></span><br><span class="line">  <span class="keyword">void</span> _retryDownload(TaskInfo task) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="built_in">String?</span> newTaskId = <span class="keyword">await</span> FlutterDownloader.retry(taskId: task.taskId!);</span><br><span class="line">    task.taskId = newTaskId;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">打开文件</span></span></span><br><span class="line">  Future&lt;<span class="built_in">bool</span>&gt; _openDownloadedFile(TaskInfo? task) &#123;</span><br><span class="line">    <span class="keyword">if</span> (task != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> FlutterDownloader.open(taskId: task.taskId!);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> Future.value(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _task = TaskInfo(link: <span class="string">&quot;<span class="subst">$&#123;Global.baseImageUrl&#125;</span><span class="subst">$&#123;widget.link&#125;</span>&quot;</span>);</span><br><span class="line">    _bindBackgroundIsolate();</span><br><span class="line"></span><br><span class="line">    FlutterDownloader.registerCallback(downloadCallback);</span><br><span class="line"></span><br><span class="line">    _prepare();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Row(</span><br><span class="line">      mainAxisAlignment: MainAxisAlignment.spaceBetween,</span><br><span class="line">      children: [</span><br><span class="line">        Container(</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">              color: <span class="keyword">const</span> Color(<span class="number">0xFFFF9F21</span>),</span><br><span class="line">              borderRadius: BorderRadius.circular(<span class="number">5.0</span>)</span><br><span class="line">          ),</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="number">42.0</span>, vertical: <span class="number">5.0</span>),</span><br><span class="line">          child: <span class="keyword">const</span> Text(<span class="string">&#x27;付款请求书.pdf&#x27;</span>, style: TextStyle(color: Colors.white, fontSize: <span class="number">14.0</span>),),</span><br><span class="line">        ),</span><br><span class="line">        TextButton(</span><br><span class="line">          style: TextButton.styleFrom(</span><br><span class="line">            padding: EdgeInsets.zero,</span><br><span class="line">            minimumSize: Size.zero,</span><br><span class="line">            tapTargetSize: MaterialTapTargetSize.shrinkWrap,</span><br><span class="line">          ),</span><br><span class="line">          onPressed: ()&#123;</span><br><span class="line"></span><br><span class="line">          &#125;,</span><br><span class="line">          child: _buildActionForTask(_task),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget _buildActionForTask(TaskInfo task) &#123;</span><br><span class="line">    <span class="keyword">if</span>(task.status == DownloadTaskStatus.running) &#123;<span class="comment">/// <span class="language-markdown">下载中</span></span></span><br><span class="line">      <span class="keyword">return</span> CircularProgressIndicator(</span><br><span class="line">        value: task.progress! / <span class="number">100</span>,</span><br><span class="line">        backgroundColor: Colors.white,</span><br><span class="line">        valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Color(<span class="number">0xFFFF9F21</span>)),</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(task.status == DownloadTaskStatus.failed) &#123;<span class="comment">/// <span class="language-markdown">下载失败</span></span></span><br><span class="line">      <span class="keyword">return</span> IconButton(</span><br><span class="line">          onPressed: () =&gt; _retryDownload(task),</span><br><span class="line">          icon: Icon(Icons.refresh_rounded, size: <span class="number">16.0</span>,)</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(task.status == DownloadTaskStatus.complete) &#123;</span><br><span class="line">      <span class="keyword">return</span> TextButton(</span><br><span class="line">          onPressed: () =&gt; _openDownloadedFile(task),</span><br><span class="line">          child: Text(<span class="string">&#x27;打开&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFFF9F21</span>), fontSize: <span class="number">14.0</span>))</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (task.status == DownloadTaskStatus.enqueued) &#123;<span class="comment">/// <span class="language-markdown">等待</span></span></span><br><span class="line">      <span class="keyword">return</span> CupertinoActivityIndicator();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">        onPressed: () =&gt; _retryDownload(task),</span><br><span class="line">        child: Text(<span class="string">&#x27;下载&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFFF9F21</span>), fontSize: <span class="number">14.0</span>))</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">自定义任务类型数据</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TaskInfo</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载链接</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> link;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String?</span> taskId;</span><br><span class="line">  <span class="built_in">int?</span> progress = <span class="number">0</span>;</span><br><span class="line">  DownloadTaskStatus? status = DownloadTaskStatus.undefined;</span><br><span class="line"></span><br><span class="line">  TaskInfo(&#123;<span class="keyword">this</span>.link&#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:isolate&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:ui&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:device_info_plus/device_info_plus.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/cupertino.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter_downloader/flutter_downloader.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:path_provider/path_provider.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:permission_handler/permission_handler.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:ting_hui_wu_liu_user_app/global.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DownloadFileWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> DownloadFileWidget(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.link, Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载链接</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> link;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _DownloadFileWidgetState createState() =&gt; _DownloadFileWidgetState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_DownloadFileWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">DownloadFileWidget</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">当前的任务</span></span></span><br><span class="line">  <span class="keyword">late</span> TaskInfo _task;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">侦听器</span></span></span><br><span class="line">  ReceivePort _port = ReceivePort();</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">保存路径</span></span></span><br><span class="line">  <span class="keyword">late</span> <span class="built_in">String</span> _localPath;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">绑定前台和后台之间的通信</span></span></span><br><span class="line">  <span class="keyword">void</span> _bindBackgroundIsolate() &#123;</span><br><span class="line">    <span class="built_in">bool</span> isSuccess = IsolateNameServer.registerPortWithName(</span><br><span class="line">        _port.sendPort, <span class="string">&#x27;downloader_send_port&#x27;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isSuccess) &#123;</span><br><span class="line">      _unbindBackgroundIsolate();</span><br><span class="line">      _bindBackgroundIsolate();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    _port.listen((<span class="built_in">dynamic</span> data) &#123;</span><br><span class="line">      <span class="comment">// if (debug) &#123;</span></span><br><span class="line">      <span class="comment">//   print(&#x27;UI Isolate Callback: $data&#x27;);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">      <span class="built_in">String?</span> id = data[<span class="number">0</span>];</span><br><span class="line">      DownloadTaskStatus? status = data[<span class="number">1</span>];</span><br><span class="line">      <span class="built_in">int?</span> progress = data[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">      <span class="comment">// if (_tasks != null &amp;&amp; _tasks!.isNotEmpty) &#123;</span></span><br><span class="line">      <span class="comment">//   final task = _tasks!.firstWhere((task) =&gt; task.taskId == id);</span></span><br><span class="line">      <span class="comment">//   setState(() &#123;</span></span><br><span class="line">      <span class="comment">//     task.status = status;</span></span><br><span class="line">      <span class="comment">//     task.progress = progress;</span></span><br><span class="line">      <span class="comment">//   &#125;);</span></span><br><span class="line">      <span class="comment">// &#125;</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">检查权限</span></span></span><br><span class="line">  Future&lt;<span class="built_in">bool</span>&gt; _checkPermission() <span class="keyword">async</span> &#123;</span><br><span class="line">    DeviceInfoPlugin deviceInfo = DeviceInfoPlugin();</span><br><span class="line">    AndroidDeviceInfo androidInfo = <span class="keyword">await</span> deviceInfo.androidInfo;</span><br><span class="line">    <span class="keyword">if</span> (Theme.of(context).platform == TargetPlatform.android &amp;&amp;</span><br><span class="line">        androidInfo.version.sdkInt! &lt;= <span class="number">28</span>) &#123;</span><br><span class="line">      <span class="keyword">final</span> status = <span class="keyword">await</span> Permission.storage.status;</span><br><span class="line">      <span class="keyword">if</span> (status != PermissionStatus.granted) &#123;</span><br><span class="line">        <span class="keyword">final</span> result = <span class="keyword">await</span> Permission.storage.request();</span><br><span class="line">        <span class="keyword">if</span> (result == PermissionStatus.granted) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">设置保存路径</span></span></span><br><span class="line">  Future&lt;<span class="built_in">String?</span>&gt; _findLocalPath() <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> externalStorageDirPath;</span><br><span class="line">    <span class="keyword">if</span> (Platform.isAndroid) &#123;</span><br><span class="line">      <span class="keyword">final</span> directory = <span class="keyword">await</span> getExternalStorageDirectory();</span><br><span class="line">      externalStorageDirPath = directory?.path;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (Platform.isIOS) &#123;</span><br><span class="line">      externalStorageDirPath =</span><br><span class="line">          (<span class="keyword">await</span> getApplicationDocumentsDirectory()).absolute.path;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// print(&#x27;externalStorageDirPath:\n$externalStorageDirPath&#x27;);</span></span><br><span class="line">    <span class="keyword">return</span> externalStorageDirPath;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Future&lt;<span class="keyword">void</span>&gt; _prepareSaveDir() <span class="keyword">async</span> &#123;</span><br><span class="line">    _localPath = (<span class="keyword">await</span> _findLocalPath())!;</span><br><span class="line">    <span class="keyword">final</span> savedDir = Directory(_localPath);</span><br><span class="line">    <span class="built_in">bool</span> hasExisted = <span class="keyword">await</span> savedDir.exists();</span><br><span class="line">    <span class="keyword">if</span> (!hasExisted) &#123;</span><br><span class="line">      savedDir.create();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">初始化存储路径，存储权限，获取本地所有任务信息</span></span></span><br><span class="line">  Future&lt;<span class="keyword">void</span>&gt; _prepare() <span class="keyword">async</span>&#123;</span><br><span class="line">    <span class="comment">/// <span class="language-markdown">获取本地的所有任务信息</span></span></span><br><span class="line">    <span class="keyword">final</span> <span class="built_in">List</span>&lt;DownloadTask&gt; ?tasks = <span class="keyword">await</span> FlutterDownloader.loadTasks();</span><br><span class="line">    tasks!.forEach((item) &#123;</span><br><span class="line">      <span class="keyword">if</span>(item.url == _task.link) &#123;</span><br><span class="line">        _task.taskId = item.taskId;</span><br><span class="line">        _task.status = item.status;</span><br><span class="line">        _task.progress = item.progress;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">await</span> _checkPermission()) &#123;</span><br><span class="line">      <span class="keyword">await</span> _prepareSaveDir();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载的回调</span></span></span><br><span class="line">  <span class="keyword">static</span> <span class="keyword">void</span> downloadCallback(</span><br><span class="line">      <span class="built_in">String</span> id, DownloadTaskStatus status, <span class="built_in">int</span> progress) &#123;</span><br><span class="line">    <span class="comment">// if (debug) &#123;</span></span><br><span class="line">    <span class="comment">//   print(</span></span><br><span class="line">    <span class="comment">//       &#x27;Background Isolate Callback: task ($id) is in status ($status) and process ($progress)&#x27;);</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="keyword">final</span> SendPort send =</span><br><span class="line">    IsolateNameServer.lookupPortByName(<span class="string">&#x27;downloader_send_port&#x27;</span>)!;</span><br><span class="line">    send.send([id, status, progress]);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">销毁前后台之间的通信</span></span></span><br><span class="line">  <span class="keyword">void</span> _unbindBackgroundIsolate() &#123;</span><br><span class="line">    IsolateNameServer.removePortNameMapping(<span class="string">&#x27;downloader_send_port&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">请求下载</span></span></span><br><span class="line">  <span class="keyword">void</span> _requestDownload(TaskInfo task) <span class="keyword">async</span> &#123;</span><br><span class="line">    task.taskId = <span class="keyword">await</span> FlutterDownloader.enqueue(</span><br><span class="line">      url: task.link!,</span><br><span class="line">      headers: &#123;<span class="string">&quot;auth&quot;</span>: <span class="string">&quot;test_for_sql_encoding&quot;</span>&#125;,</span><br><span class="line">      savedDir: _localPath,</span><br><span class="line">      showNotification: <span class="keyword">true</span>,</span><br><span class="line">      openFileFromNotification: <span class="keyword">true</span>,</span><br><span class="line">      saveInPublicStorage: <span class="keyword">true</span>,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">重新下载</span></span></span><br><span class="line">  <span class="keyword">void</span> _retryDownload(TaskInfo task) <span class="keyword">async</span> &#123;</span><br><span class="line">    <span class="built_in">String?</span> newTaskId = <span class="keyword">await</span> FlutterDownloader.retry(taskId: task.taskId!);</span><br><span class="line">    task.taskId = newTaskId;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/// <span class="language-markdown">打开文件</span></span></span><br><span class="line">  Future&lt;<span class="built_in">bool</span>&gt; _openDownloadedFile(TaskInfo? task) &#123;</span><br><span class="line">    <span class="keyword">if</span> (task != <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> FlutterDownloader.open(taskId: task.taskId!);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> Future.value(<span class="keyword">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">    _task = TaskInfo(link: <span class="string">&quot;<span class="subst">$&#123;Global.baseImageUrl&#125;</span><span class="subst">$&#123;widget.link&#125;</span>&quot;</span>);</span><br><span class="line">    _bindBackgroundIsolate();</span><br><span class="line"></span><br><span class="line">    FlutterDownloader.registerCallback(downloadCallback);</span><br><span class="line"></span><br><span class="line">    _prepare();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Row(</span><br><span class="line">      mainAxisAlignment: MainAxisAlignment.spaceBetween,</span><br><span class="line">      children: [</span><br><span class="line">        Container(</span><br><span class="line">          decoration: BoxDecoration(</span><br><span class="line">              color: <span class="keyword">const</span> Color(<span class="number">0xFFFF9F21</span>),</span><br><span class="line">              borderRadius: BorderRadius.circular(<span class="number">5.0</span>)</span><br><span class="line">          ),</span><br><span class="line">          padding: <span class="keyword">const</span> EdgeInsets.symmetric(horizontal: <span class="number">42.0</span>, vertical: <span class="number">5.0</span>),</span><br><span class="line">          child: <span class="keyword">const</span> Text(<span class="string">&#x27;付款请求书.pdf&#x27;</span>, style: TextStyle(color: Colors.white, fontSize: <span class="number">14.0</span>),),</span><br><span class="line">        ),</span><br><span class="line">        TextButton(</span><br><span class="line">          style: TextButton.styleFrom(</span><br><span class="line">            padding: EdgeInsets.zero,</span><br><span class="line">            minimumSize: Size.zero,</span><br><span class="line">            tapTargetSize: MaterialTapTargetSize.shrinkWrap,</span><br><span class="line">          ),</span><br><span class="line">          onPressed: ()&#123;</span><br><span class="line"></span><br><span class="line">          &#125;,</span><br><span class="line">          child: _buildActionForTask(_task),</span><br><span class="line">        )</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Widget _buildActionForTask(TaskInfo task) &#123;</span><br><span class="line">    <span class="keyword">if</span>(task.status == DownloadTaskStatus.running) &#123;<span class="comment">/// <span class="language-markdown">下载中</span></span></span><br><span class="line">      <span class="keyword">return</span> CircularProgressIndicator(</span><br><span class="line">        value: task.progress! / <span class="number">100</span>,</span><br><span class="line">        backgroundColor: Colors.white,</span><br><span class="line">        valueColor: AlwaysStoppedAnimation&lt;Color&gt;(Color(<span class="number">0xFFFF9F21</span>)),</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(task.status == DownloadTaskStatus.failed) &#123;<span class="comment">/// <span class="language-markdown">下载失败</span></span></span><br><span class="line">      <span class="keyword">return</span> IconButton(</span><br><span class="line">          onPressed: () =&gt; _retryDownload(task),</span><br><span class="line">          icon: Icon(Icons.refresh_rounded, size: <span class="number">16.0</span>,)</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(task.status == DownloadTaskStatus.complete) &#123;</span><br><span class="line">      <span class="keyword">return</span> TextButton(</span><br><span class="line">          onPressed: () =&gt; _openDownloadedFile(task),</span><br><span class="line">          child: Text(<span class="string">&#x27;打开&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFFF9F21</span>), fontSize: <span class="number">14.0</span>))</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (task.status == DownloadTaskStatus.enqueued) &#123;<span class="comment">/// <span class="language-markdown">等待</span></span></span><br><span class="line">      <span class="keyword">return</span> CupertinoActivityIndicator();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">        onPressed: () =&gt; _retryDownload(task),</span><br><span class="line">        child: Text(<span class="string">&#x27;下载&#x27;</span>, style: TextStyle(color: Color(<span class="number">0xFFFF9F21</span>), fontSize: <span class="number">14.0</span>))</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">自定义任务类型数据</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TaskInfo</span> </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">下载链接</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> link;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String?</span> taskId;</span><br><span class="line">  <span class="built_in">int?</span> progress = <span class="number">0</span>;</span><br><span class="line">  DownloadTaskStatus? status = DownloadTaskStatus.undefined;</span><br><span class="line"></span><br><span class="line">  TaskInfo(&#123;<span class="keyword">this</span>.link&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="51-WidgetSpan"><a href="#51-WidgetSpan" class="headerlink" title="51.WidgetSpan"></a>51.WidgetSpan</h2><p>在文本中内嵌固定大小 Widget。</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">RichText(</span><br><span class="line">          text: TextSpan(</span><br><span class="line">              children: [</span><br><span class="line">                WidgetSpan(</span><br><span class="line">                  child: Image.asset(</span><br><span class="line">                    <span class="string">&#x27;<span class="subst">$&#123;_currIndex == index ? <span class="string">&#x27;btn_login_choose_s&#x27;</span> : <span class="string">&#x27;btn_login_choose_d&#x27;</span>&#125;</span>&#x27;</span>.webp,</span><br><span class="line">                    width: <span class="number">18.0</span>,</span><br><span class="line">                    height: <span class="number">18.0</span>,</span><br><span class="line">                    fit: BoxFit.cover,</span><br><span class="line">                  ),</span><br><span class="line">                ),</span><br><span class="line">                WidgetSpan(</span><br><span class="line">                  child: Padding(</span><br><span class="line">                    padding: EdgeInsets.only(left: <span class="number">5.0</span>),</span><br><span class="line">                    child: Text(<span class="string">&#x27;<span class="subst">$&#123;widget.group[index]&#125;</span>&#x27;</span>.i18n, style: TextStyle(fontSize: <span class="number">14.0</span>),),</span><br><span class="line">                  ),</span><br><span class="line">                )</span><br><span class="line">              ]</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure></div>

<h2 id="52-打开-google-应用的相关-api"><a href="#52-打开-google-应用的相关-api" class="headerlink" title="52.打开 google 应用的相关 api"></a>52.<a class="link"   target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/urls/get-started?hl=zh-CN" >打开 google 应用的相关 api <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><h2 id="53-聚焦"><a href="#53-聚焦" class="headerlink" title="53.聚焦"></a>53.聚焦</h2><p>关于焦点事件：<a class="link"   target="_blank" rel="noopener" href="https://www.freesion.com/article/4272635917/" >https://www.freesion.com/article/4272635917/ <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">///<span class="language-markdown">输入框的焦点</span></span></span><br><span class="line">FocusNode _focusNode = FocusNode();</span><br><span class="line">FocusScope.of(context).requestFocus(FocusNode());</span><br></pre></td></tr></table></figure></div>

<h2 id="54-Flutter-文本输入框-TextField-属性"><a href="#54-Flutter-文本输入框-TextField-属性" class="headerlink" title="54.Flutter 文本输入框 TextField 属性"></a>54.<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/yuzhiqiang_1993/article/details/88204031" >Flutter 文本输入框 TextField 属性 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><h2 id="57-下拉刷新，上滑加载"><a href="#57-下拉刷新，上滑加载" class="headerlink" title="57.下拉刷新，上滑加载"></a>57.下拉刷新，上滑加载</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:io&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/cupertino.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:pull_to_refresh/pull_to_refresh.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:ting_hui_wu_liu_user_app/models/model.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// <span class="language-markdown">自定义下拉刷新</span></span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PullDownRefresh</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> PullDownRefresh(&#123;<span class="keyword">required</span> <span class="keyword">this</span>.controller, <span class="keyword">required</span> <span class="keyword">this</span>.future, <span class="keyword">required</span> <span class="keyword">this</span>.pageable, <span class="keyword">required</span> <span class="keyword">this</span>.builder, <span class="keyword">this</span>.noDataText, <span class="keyword">this</span>.noMoreDataText, Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> Future&lt;T&gt; <span class="built_in">Function</span>(Pageable pageable) future;</span><br><span class="line">  <span class="keyword">final</span> Widget <span class="built_in">Function</span>(BuildContext context, T value) builder;</span><br><span class="line">  <span class="keyword">final</span> RefreshController controller;</span><br><span class="line">  <span class="keyword">final</span> Pageable pageable;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">没有更多的数据</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> noMoreDataText;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">没有数据</span></span></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String?</span> noDataText;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _PullDownRefreshState&lt;T&gt; createState() =&gt; _PullDownRefreshState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_PullDownRefreshState</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">PullDownRefresh</span>&lt;<span class="title">T</span>&gt;&gt; </span>&#123;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">数据</span></span></span><br><span class="line">  T? list;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">列表是否为空</span></span></span><br><span class="line">  <span class="built_in">bool</span> isNoData = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">bool</span> enableLoad = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> err = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> implement initState</span></span><br><span class="line">    <span class="keyword">super</span>.initState();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">void</span> _handleError(<span class="built_in">dynamic</span> e)&#123;</span><br><span class="line">    <span class="built_in">String?</span> message;</span><br><span class="line">    widget.controller.refreshFailed();</span><br><span class="line">    <span class="keyword">if</span> (e <span class="keyword">is</span> SocketException) &#123;</span><br><span class="line">      message = <span class="string">&#x27;network.error&#x27;</span>.i18n;</span><br><span class="line">      logger.e(message, e);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">is</span> RpcCallException) &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.code == <span class="number">401</span>) &#123;</span><br><span class="line">        Nav.login();</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.code == <span class="number">600</span>) &#123;</span><br><span class="line">        <span class="built_in">String</span> language = LocalStorage.getLocale()?.languageCode ?? <span class="string">&#x27;zh&#x27;</span>;</span><br><span class="line">        message = e.fault?.variables[language];</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        message = e.message.i18n;</span><br><span class="line">        logger.e(message, e);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">is</span> HttpCallException) &#123;</span><br><span class="line">      message = <span class="string">&#x27;http.error&#x27;</span>.i18n;</span><br><span class="line">      logger.e(message, e);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e <span class="keyword">is</span> TimeoutException) &#123;</span><br><span class="line">      message = <span class="string">&#x27;request.timeout&#x27;</span>.i18n;</span><br><span class="line">      logger.e(message, e);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      message = <span class="string">&#x27;request.error&#x27;</span>.i18n;</span><br><span class="line">      logger.e(message, e);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (message != <span class="keyword">null</span>) &#123;</span><br><span class="line">      err = message;</span><br><span class="line">      Chili.showToast(message);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> SmartRefresher(</span><br><span class="line">      controller: widget.controller,</span><br><span class="line">      enablePullDown: <span class="keyword">true</span>,</span><br><span class="line">      enablePullUp: enableLoad,</span><br><span class="line">      header: WaterDropMaterialHeader(</span><br><span class="line">        color: Color(<span class="number">0xFFFF9F21</span>),</span><br><span class="line">      ),</span><br><span class="line">      footer: ClassicFooter(</span><br><span class="line">        noDataText: widget.noMoreDataText ?? <span class="string">&quot;--没有更多的数据--&quot;</span>,</span><br><span class="line">        loadingIcon: CupertinoActivityIndicator(),</span><br><span class="line">      ),</span><br><span class="line">      onRefresh: () &#123;</span><br><span class="line">        widget.controller.loadComplete();</span><br><span class="line">        err = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        widget.pageable.page = <span class="number">1</span>;</span><br><span class="line">        widget.future(widget.pageable).then((value) &#123;</span><br><span class="line">          list = value;</span><br><span class="line">          widget.controller.refreshCompleted();</span><br><span class="line">          <span class="keyword">if</span>(mounted) &#123;</span><br><span class="line">            setState(() &#123;</span><br><span class="line">              <span class="keyword">if</span> ((list <span class="keyword">as</span> <span class="built_in">List</span>).isEmpty) &#123;</span><br><span class="line">                isNoData = <span class="keyword">true</span>;</span><br><span class="line">                enableLoad = <span class="keyword">false</span>;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                isNoData = <span class="keyword">false</span>;</span><br><span class="line">                enableLoad = <span class="keyword">true</span>;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;).catchError((e) &#123;</span><br><span class="line">         _handleError(e);</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      onLoading: () &#123;</span><br><span class="line">        widget.pageable.page = widget.pageable.page! + <span class="number">1</span>;</span><br><span class="line">        widget.future(widget.pageable).then((value) &#123;</span><br><span class="line">          <span class="keyword">if</span> ((value <span class="keyword">as</span> <span class="built_in">List</span>).isEmpty) &#123;</span><br><span class="line">            widget.controller.loadNoData();</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(mounted) setState(() &#123;(list <span class="keyword">as</span> <span class="built_in">List</span>).addAll(value);&#125;);</span><br><span class="line">            widget.controller.loadComplete();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;).catchError((err) &#123;</span><br><span class="line">          _handleError(err);</span><br><span class="line">          widget.controller.loadFailed();</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">      child: isNoData ? Center(</span><br><span class="line">        child: Text(</span><br><span class="line">          err.isNotEmpty ? err : (widget.noDataText ?? <span class="string">&#x27;暂无数据&#x27;</span>),</span><br><span class="line">          style: TextStyle(color: Color(<span class="number">0xFFBFBFBF</span>)),</span><br><span class="line">        ),</span><br><span class="line">      ) : widget.builder(context, list!)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<h2 id="IntrinsicHeight"><a href="#IntrinsicHeight" class="headerlink" title="IntrinsicHeight"></a><a class="link"   target="_blank" rel="noopener" href="http://laomengit.com/flutter/widgets/IntrinsicHeight.html" >IntrinsicHeight <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></h2><p>将其子控件调整为该子控件的固有高度，举个例子来说，Row 中有 3 个子控件，其中只有一个有高度，默认情况下剩余 2 个控件将会充满父组件，而使用 IntrinsicHeight 控件，则 3 个子控件的高度一致。</p>
<h2 id="文字折叠"><a href="#文字折叠" class="headerlink" title="文字折叠"></a>文字折叠</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TextWrapper</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> TextWrapper(<span class="keyword">this</span>.text, &#123;Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">final</span> <span class="built_in">String</span> text;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  State&lt;TextWrapper&gt; createState() =&gt; _TextWrapperState();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_TextWrapperState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">TextWrapper</span>&gt;</span></span><br><span class="line"><span class="class">    <span class="title">with</span> <span class="title">TickerProviderStateMixin</span> </span>&#123;</span><br><span class="line">  <span class="built_in">bool</span> isExpanded = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Column(</span><br><span class="line">      crossAxisAlignment: CrossAxisAlignment.start,</span><br><span class="line">      children: [</span><br><span class="line">        AnimatedSize(</span><br><span class="line">          vsync: <span class="keyword">this</span>,</span><br><span class="line">          duration: <span class="built_in">Duration</span>(microseconds: <span class="number">300</span>),</span><br><span class="line">          child: ConstrainedBox(</span><br><span class="line">            constraints:</span><br><span class="line">                isExpanded ? BoxConstraints() : BoxConstraints(maxHeight: <span class="number">70</span>),</span><br><span class="line">            child: Text(</span><br><span class="line">              widget.text,</span><br><span class="line">              style: TextStyle(fontSize: <span class="number">16</span>),</span><br><span class="line">              softWrap: <span class="keyword">true</span>,</span><br><span class="line">              overflow: TextOverflow.fade,</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">        isExpanded</span><br><span class="line">            ? Row(</span><br><span class="line">                <span class="comment">// 使用 Row 将 btn 显示在右边，如果不使用 Row，btn 就会显示在左边</span></span><br><span class="line">                mainAxisAlignment: MainAxisAlignment.end,</span><br><span class="line">                children: [</span><br><span class="line">                  OutlinedButton(</span><br><span class="line">                      onPressed: () &#123;</span><br><span class="line">                        setState(() &#123;</span><br><span class="line">                          isExpanded = <span class="keyword">false</span>;</span><br><span class="line">                        &#125;);</span><br><span class="line">                      &#125;,</span><br><span class="line">                      child: Text(<span class="string">&quot;隐藏&quot;</span>))</span><br><span class="line">                ],</span><br><span class="line">              )</span><br><span class="line">            : OutlinedButton(</span><br><span class="line">                onPressed: () &#123;</span><br><span class="line">                  setState(() &#123;</span><br><span class="line">                    isExpanded = <span class="keyword">true</span>;</span><br><span class="line">                  &#125;);</span><br><span class="line">                &#125;,</span><br><span class="line">                child: Text(<span class="string">&quot;显示&quot;</span>))</span><br><span class="line">      ],</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TextWrapperPage</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> TextWrapperPage(&#123;Key? key&#125;) : <span class="keyword">super</span>(key: key);</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> Scaffold(</span><br><span class="line">      appBar: AppBar(</span><br><span class="line">        title: Text(<span class="string">&quot;显示/折叠&quot;</span>),</span><br><span class="line">        centerTitle: <span class="keyword">true</span>,</span><br><span class="line">        backgroundColor: Colors.blue,</span><br><span class="line">      ),</span><br><span class="line">      body: Padding(</span><br><span class="line">          padding: EdgeInsets.symmetric(vertical: <span class="number">30</span>, horizontal: <span class="number">20</span>),</span><br><span class="line">          child: SingleChildScrollView(</span><br><span class="line">            child: Column(</span><br><span class="line">              children: [</span><br><span class="line">                TextWrapper(</span><br><span class="line">                    <span class="string">&quot;【摘要】 食品安全问题关系国计民生,一直是社会各界广泛关注的焦点。基于政策法规、主流期刊、权威媒体的三维视角,首先从\&quot;是什么\&quot;的角度对改革开放四十年以来我国食品安全问题关注重点的变化进行了系统梳理,总体上,我国食品安全问题关注重点的变化轨迹可描绘为\&quot;食品数量安全→食品数量和卫生安全→食品质量安全→食品质量和营养安全\&quot;;其次进一步从\&quot;为什么\&quot;的角度剖析不同历史阶段我国食品安全问题关注重点变迁的内在逻辑,揭示导致以上变化的主要驱动因素;最后总结改革开放以来我国食品安全领域的重要成就,指明我国食品安全问题的发展方向。 &quot;</span>),</span><br><span class="line">                Divider(</span><br><span class="line">                  height: <span class="number">30</span>,</span><br><span class="line">                ),</span><br><span class="line">                TextWrapper(</span><br><span class="line">                    <span class="string">&quot;【摘要】 食品安全问题关系国计民生,一直是社会各界广泛关注的焦点。基于政策法规、主流期刊、权威媒体的三维视角,首先从\&quot;是什么\&quot;的角度对改革开放四十年以来我国食品安全问题关注重点的变化进行了系统梳理,总体上,我国食品安全问题关注重点的变化轨迹可描绘为\&quot;食品数量安全→食品数量和卫生安全→食品质量安全→食品质量和营养安全\&quot;;其次进一步从\&quot;为什么\&quot;的角度剖析不同历史阶段我国食品安全问题关注重点变迁的内在逻辑,揭示导致以上变化的主要驱动因素;最后总结改革开放以来我国食品安全领域的重要成就,指明我国食品安全问题的发展方向。 &quot;</span>),</span><br><span class="line">              ],</span><br><span class="line">            ),</span><br><span class="line">          )),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="58-简单的单例模式写法"><a href="#58-简单的单例模式写法" class="headerlink" title="58.简单的单例模式写法"></a>58.简单的单例模式写法</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TestEventBust</span> </span>&#123;</span><br><span class="line">  <span class="keyword">static</span> TestEventBust _instance = TestEventBust._init();</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">命名构造函数</span></span></span><br><span class="line">  TestEventBust._init();</span><br><span class="line">  EventBus _eventBus = EventBus();</span><br><span class="line">  EventBus <span class="keyword">get</span> bus&#123;</span><br><span class="line">    <span class="keyword">return</span> _eventBus;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">/// <span class="language-markdown">工厂构造函数</span></span></span><br><span class="line">  <span class="keyword">factory</span> TestEventBust() =&gt; _instance;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<h2 id="50-BackdropFilter-高斯模糊-毛玻璃效果"><a href="#50-BackdropFilter-高斯模糊-毛玻璃效果" class="headerlink" title="50.BackdropFilter 高斯模糊&#x2F;毛玻璃效果"></a>50.BackdropFilter 高斯模糊&#x2F;毛玻璃效果</h2><p>Flutter 自带的一个 ui 组件。</p>
<p>注意点：<br>官方文档：The filter will be applied to all the area within its parent or ancestor widget’s clip. If there’s no clip, the filter will be applied to the full screen.</p>
<p>译：过滤器将应用于其父控件或祖先控件剪辑中的所有区域。如果没有剪辑，过滤器将应用于全屏。</p>
<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Stack(</span><br><span class="line">  fit: StackFit.expand,</span><br><span class="line">  children: &lt;Widget&gt;[</span><br><span class="line">    Text(<span class="string">&#x27;0&#x27;</span> * <span class="number">10000</span>),</span><br><span class="line">    Center(</span><br><span class="line">      child: ClipRect(  <span class="comment">// &lt;-- clips to the 200x200 [Container] below</span></span><br><span class="line">        child: BackdropFilter(</span><br><span class="line">          filter: ui.ImageFilter.blur(</span><br><span class="line">            sigmaX: <span class="number">5.0</span>,</span><br><span class="line">            sigmaY: <span class="number">5.0</span>,</span><br><span class="line">          ),</span><br><span class="line">          child: Container(</span><br><span class="line">            alignment: Alignment.center,</span><br><span class="line">            width: <span class="number">200.0</span>,</span><br><span class="line">            height: <span class="number">200.0</span>,</span><br><span class="line">            child: <span class="keyword">const</span> Text(<span class="string">&#x27;Hello World&#x27;</span>),</span><br><span class="line">          ),</span><br><span class="line">        ),</span><br><span class="line">      ),</span><br><span class="line">    ),</span><br><span class="line">  ],</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>

<h2 id="51-显示-SVG-格式的-Flutter-组件：flutter-svg"><a href="#51-显示-SVG-格式的-Flutter-组件：flutter-svg" class="headerlink" title="51.显示 SVG 格式的 Flutter 组件：flutter_svg"></a>51.显示 SVG 格式的 Flutter 组件：flutter_svg</h2><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">ListView.builder(</span><br><span class="line">           shrinkWrap: <span class="keyword">true</span>,</span><br><span class="line">             scrollDirection: Axis.vertical,</span><br><span class="line">             itemCount: countries.length,</span><br><span class="line">             physics: ScrollPhysics(),</span><br><span class="line">             itemBuilder: (context, index)&#123;</span><br><span class="line">               <span class="keyword">final</span> Widget networkSvg = SvgPicture.network(</span><br><span class="line">                   <span class="string">&#x27;<span class="subst">$&#123;countries[index].flag&#125;</span>&#x27;</span>,</span><br><span class="line">                   fit: BoxFit.fill,</span><br><span class="line">                   semanticsLabel: <span class="string">&#x27;A shark?!&#x27;</span>,</span><br><span class="line">                   placeholderBuilder: (BuildContext context) =&gt; Container(</span><br><span class="line">                       padding: <span class="keyword">const</span> EdgeInsets.all(<span class="number">30.0</span>),</span><br><span class="line">                       child: <span class="keyword">const</span> CircularProgressIndicator(</span><br><span class="line">                         backgroundColor: Colors.redAccent,</span><br><span class="line">                       )),);</span><br><span class="line">               <span class="keyword">return</span></span><br><span class="line">                 Column(</span><br><span class="line">                   children: [</span><br><span class="line">                     ListTile(</span><br><span class="line">                       title: Text(<span class="string">&#x27;<span class="subst">$&#123;countries[index].name&#125;</span>&#x27;</span>),</span><br><span class="line">                       leading: CircleAvatar(</span><br><span class="line">                         backgroundColor: Colors.white,</span><br><span class="line">                         child: networkSvg,</span><br><span class="line">                       ),</span><br><span class="line">                     )</span><br><span class="line">                   ],</span><br><span class="line">                 );</span><br><span class="line">             &#125;);</span><br></pre></td></tr></table></figure></div>

<h2 id="Flutter-shape"><a href="#Flutter-shape" class="headerlink" title="Flutter shape"></a>Flutter shape</h2><p>新了解：shapeDecoration</p>
<p><a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/chenlove1/article/details/83627831" >关于形状 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<h1 id="通过屏幕密度选择对应尺寸的图片"><a href="#通过屏幕密度选择对应尺寸的图片" class="headerlink" title="通过屏幕密度选择对应尺寸的图片"></a>通过屏幕密度选择对应尺寸的图片</h1><div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&#x27;dart:ui&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:chili/chili.dart&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;package:flutter/material.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;main_screen.dart&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IntroScreen</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="built_in">double</span> dpi = MediaQueryData.fromWindow(<span class="built_in">window</span>).devicePixelRatio; <span class="comment">//屏幕密度</span></span><br><span class="line">    <span class="built_in">String</span> prefix = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="keyword">final</span> imgWidth = MediaQuery.of(context).size.width;</span><br><span class="line">    <span class="keyword">if</span> (dpi &lt; <span class="number">1.5</span>) &#123;</span><br><span class="line">      prefix = <span class="string">&quot;assets/intro/small&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dpi &lt; <span class="number">2</span>) &#123;</span><br><span class="line">      prefix = <span class="string">&quot;assets/intro/medium&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      prefix = <span class="string">&quot;assets/intro/large&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">List</span>&lt;Widget&gt; pages = [</span><br><span class="line">      Image.asset(</span><br><span class="line">        <span class="string">&#x27;<span class="subst">$prefix</span>/1.png&#x27;</span>,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">      Image.asset(</span><br><span class="line">        <span class="string">&#x27;<span class="subst">$prefix</span>/2.png&#x27;</span>,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">      Image.asset(</span><br><span class="line">        <span class="string">&#x27;<span class="subst">$prefix</span>/3.png&#x27;</span>,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">      Image.asset(</span><br><span class="line">        <span class="string">&#x27;<span class="subst">$prefix</span>/4.png&#x27;</span>,</span><br><span class="line">        fit: BoxFit.fill,</span><br><span class="line">      ),</span><br><span class="line">    ];</span><br><span class="line">    <span class="keyword">return</span> Introduction(</span><br><span class="line">      onSkip: () &#123;</span><br><span class="line">        Nav.pushReplacement((context) =&gt; MainScreen());</span><br><span class="line">      &#125;,</span><br><span class="line">      pages: pages,</span><br><span class="line">      next: Text(<span class="string">&#x27;Next&#x27;</span>),</span><br><span class="line">      skip: Text(<span class="string">&#x27;Skip&#x27;</span>),</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Dart"><figure class="iseeu highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> init() &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;当前的屏幕密度为:<span class="subst">$dpi</span>&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (platform == <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;当前设备为Android&quot;</span>);</span><br><span class="line">    postfix = <span class="string">&quot;.png&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (dpi &lt; <span class="number">1</span>) &#123;</span><br><span class="line">      basePath = Local_Icon_prefix + <span class="string">&quot;android/mdpi/&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dpi &lt; <span class="number">1.5</span>) &#123;</span><br><span class="line">      basePath = Local_Icon_prefix + <span class="string">&quot;android/hdpi/&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dpi &lt; <span class="number">2</span>) &#123;</span><br><span class="line">      basePath = Local_Icon_prefix + <span class="string">&quot;android/xhdpi/&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (dpi &lt; <span class="number">3</span>) &#123;</span><br><span class="line">      basePath = Local_Icon_prefix + <span class="string">&quot;android/xxhdpi/&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      basePath = Local_Icon_prefix + <span class="string">&quot;android/xxxhdpi/&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    basePath = Local_Icon_prefix + <span class="string">&quot;ios/&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (dpi &lt; <span class="number">2.5</span>) &#123;</span><br><span class="line">      postfix = <span class="string">&quot;@2x.png&quot;</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      postfix = <span class="string">&quot;@3x.png&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">print</span>(basePath);</span><br><span class="line">  <span class="keyword">return</span> basePath;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Flutter常用组件</li>
        <li><strong>Author:</strong> Jared Yuan</li>
        <li><strong>Created at
                :</strong> 2023-09-22 12:00:12</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2023-09-22 12:07:14
            </li>
        
        <li>
            <strong>Link:</strong> https://redefine.ohevan.com/2023/09/22/Flutter/Flutter常用组件/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/Flutter/">#Flutter</a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                    <div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="prev"
                        rel="prev"
                        href="/2023/09/22/Dart%E5%AD%A6%E4%B9%A0/"
                        >
                            <span class="left arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-left"></i>
                            </span>
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">Dart学习</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2023/09/22/Flutter/%E7%A8%80%E6%9C%89%E7%BB%84%E4%BB%B6/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">稀有组件</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title">Flutter常用组件</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-%E5%9C%86%E8%A7%92%E6%8C%89%E9%92%AE"><span class="nav-text">1.圆角按钮</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-Text"><span class="nav-text">2.Text</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-%E5%9C%86%E5%BD%A2-Container"><span class="nav-text">3.圆形 Container</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-%E5%9C%86%E5%BD%A2%E6%8C%89%E9%92%AE"><span class="nav-text">4. 圆形按钮</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AF%B9%E8%AF%9D%E6%A1%86"><span class="nav-text">5.自定义对话框</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-%E5%9C%86%E8%A7%92%E6%8C%89%E9%92%AE"><span class="nav-text">6.圆角按钮</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-%E7%8B%AC%E5%8D%A0%E4%B8%80%E8%A1%8C-TextFormField"><span class="nav-text">7.独占一行 TextFormField</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-%E7%8B%AC%E5%8D%A0%E4%B8%80%E8%A1%8C%E7%9A%84%E5%9C%86%E8%A7%92%E6%8C%89%E9%92%AE"><span class="nav-text">8.独占一行的圆角按钮</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9-%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86%E4%B8%8D%E9%99%90%E5%88%B6%E8%A1%8C%E6%95%B0%EF%BC%8C%E7%B1%BB%E4%BC%BC%E5%AF%8C%E6%96%87%E6%9C%AC"><span class="nav-text">9.文本输入框不限制行数，类似富文本</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10-%E6%9C%89%E5%85%B3%E5%9C%86%E8%A7%92%E8%AE%BE%E7%BD%AE"><span class="nav-text">10.有关圆角设置</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#11-%E6%9C%89%E5%85%B3-showModalBottomSheet"><span class="nav-text">11.有关 showModalBottomSheet </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#12-%E5%88%97%E8%A1%A8%E5%B1%95%E7%A4%BA"><span class="nav-text">12.列表展示</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#13-Container-%E9%98%B4%E5%BD%B1"><span class="nav-text">13.Container 阴影</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#14-TextFormField-%E5%B1%9E%E6%80%A7"><span class="nav-text">14.TextFormField 属性 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#15-Flutter-%E7%9A%84-showModalBottomSheet-%E8%BE%93%E5%85%A5%E6%A1%86%E8%A2%AB%E5%BC%B9%E5%87%BA%E7%9A%84%E9%94%AE%E7%9B%98%E6%8C%A1%E4%BD%8F"><span class="nav-text">15.Flutter 的 showModalBottomSheet 输入框被弹出的键盘挡住 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#16-%E9%A1%B5%E9%9D%A2%E6%BB%9A%E5%8A%A8%EF%BC%8C%E6%80%A7%E8%83%BD%E4%BC%98%E8%B6%8A%E7%9A%84%E7%BB%93%E6%9E%84"><span class="nav-text">16.页面滚动，性能优越的结构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#17-%E5%9C%86%E8%A7%92-TextFormField"><span class="nav-text">17.圆角 TextFormField</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#18-%E5%9B%BA%E5%AE%9A%E5%9C%A8%E7%95%8C%E9%9D%A2%E4%B8%8A%E7%9A%84%E6%97%B6%E9%97%B4%E9%80%89%E6%8B%A9%E5%99%A8"><span class="nav-text">18.固定在界面上的时间选择器</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#19-ListWheelScrollView-useDelegate"><span class="nav-text">19.ListWheelScrollView.useDelegate</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#20-TextFormField-%E6%96%87%E7%AB%A0"><span class="nav-text">20.TextFormField 文章</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#21-Entry-name-%E2%80%98classes-dex%E2%80%98-collided"><span class="nav-text">21.Entry name ‘classes.dex‘ collided</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#22-flutter-textformfield-%E5%A4%B1%E5%8E%BB%E7%84%A6%E7%82%B9"><span class="nav-text">22.flutter textformfield 失去焦点</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#23-InkWell-%E4%BD%BF%E7%94%A8%E6%97%A0%E6%95%88"><span class="nav-text">23.InkWell 使用无效</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#24-%E7%80%91%E5%B8%83%E6%B5%81%E5%B8%83%E5%B1%80"><span class="nav-text">24.瀑布流布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#25-%E8%A7%A3%E5%86%B3%E5%9F%BA%E7%BA%BF%E5%AF%B9%E9%BD%90"><span class="nav-text">25.解决基线对齐</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#26-%E5%9B%BE%E7%89%87%E8%A3%81%E5%89%AA"><span class="nav-text">26.图片裁剪</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#27-%E9%80%89%E5%8F%96%E5%9B%BE%E7%89%87"><span class="nav-text">27. 选取图片</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#28-flutter-blue"><span class="nav-text">28. flutter_blue</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#29-%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BA%95%E9%83%A8%E5%BC%B9%E6%A1%86"><span class="nav-text">29.自定义底部弹框</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#30-%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="nav-text">30.常用正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#31-%E5%85%B3%E4%BA%8E"><span class="nav-text">31.关于 ?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-%E5%B8%B8%E7%94%A8%E7%9A%84%E7%99%BB%E5%BD%95%E8%A1%A8%E5%8D%95%E5%B8%83%E5%B1%80"><span class="nav-text">32.常用的登录表单布局</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#32-%E7%BD%91%E7%BB%9C%E5%9B%BE%E7%89%87%E7%BC%93%E5%AD%98%E7%BB%84%E4%BB%B6"><span class="nav-text">32.网络图片缓存组件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#33-%E8%A7%A3%E5%86%B3%E5%8D%8E%E4%B8%BA%E6%89%8B%E6%9C%BA%E5%9C%A8%E8%BF%9E%E6%8E%A5-Android-Studio-%E8%B0%83%E8%AF%95%E6%97%B6%E5%87%BA%E7%8E%B0%E5%BC%82%E5%B8%B8%EF%BC%9AError-while-Launching-activity"><span class="nav-text">33.解决华为手机在连接 Android Studio 调试时出现异常：Error while Launching activity</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#34-CustomScrollView-%E4%B9%8B-Sliver-%E5%AE%B6%E6%97%8F%E7%9A%84-Widget"><span class="nav-text">34.CustomScrollView 之 Sliver 家族的 Widget</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#35-Flutter-Wrap-%E6%B5%81%E5%BC%8F%E5%B8%83%E5%B1%80%E5%B5%8C%E5%A5%97%E5%BE%AA%E7%8E%AF-Row-%E5%AF%BC%E8%87%B4%E5%8D%A0%E6%8D%AE%E4%B8%80%E8%A1%8C%E9%97%AE%E9%A2%98"><span class="nav-text">35.Flutter Wrap 流式布局嵌套循环 Row 导致占据一行问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#36-flutter-%E8%BE%93%E5%85%A5%E6%A1%86-TextField-%E8%AE%BE%E7%BD%AE%E9%AB%98%E5%BA%A6%E4%BB%A5%E5%8F%8A%E8%83%8C%E6%99%AF%E8%89%B2%E7%AD%89%E6%A0%B7%E5%BC%8F%E7%9A%84%E6%AD%A3%E7%A1%AE%E5%A7%BF%E5%8A%BF"><span class="nav-text">36.flutter 输入框 TextField 设置高度以及背景色等样式的正确姿势 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#37-Row-%E4%B8%AD-%E4%BD%BF%E7%94%A8-Text%EF%BC%8C%E5%B9%B6%E5%AE%9E%E7%8E%B0%E8%B6%85%E5%87%BA%E9%9A%90%E8%97%8F"><span class="nav-text">37.Row 中 使用 Text，并实现超出隐藏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#38-DropdownButton"><span class="nav-text">38.DropdownButton</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#39-%E5%A4%8D%E6%9D%82%E5%88%97%E8%A1%A8%E7%9A%84%E4%BD%BF%E7%94%A8%EF%BC%8C%E5%B9%B6%E4%BF%9D%E6%8C%81%E9%94%80%E6%AF%81%EF%BC%8C%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">39.复杂列表的使用，并保持销毁，初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#40-%E7%B1%BB%E4%BC%BC-label-%E6%A0%87%E7%AD%BE%EF%BC%8C%E5%B8%A6%E6%9C%89%E5%A4%96%E8%BE%B9%E6%A1%86"><span class="nav-text">40.类似 label 标签，带有外边框</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#41-%E5%AE%89%E5%8D%93%E5%86%85%E9%83%A8%E6%9B%B4%E6%96%B0-ota-update"><span class="nav-text">41.安卓内部更新 ota_update</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#43-%E6%89%93%E5%BC%80%E5%A4%96%E9%83%A8%E9%93%BE%E6%8E%A5-url-launcher"><span class="nav-text">43.打开外部链接 url_launcher</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#44-flutter-%E6%89%93%E5%8C%85%E7%9A%84-app-%E9%97%AA%E9%80%80"><span class="nav-text">44.flutter 打包的 app 闪退</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#46-ios-%E5%8A%A0%E8%BD%BD%EF%BC%88loading%EF%BC%89"><span class="nav-text">46. ios 加载（loading）</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#47-flutter-%E6%9F%A5%E7%9C%8B-pdf-%E6%96%87%E4%BB%B6"><span class="nav-text">47.flutter 查看 pdf 文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#48-%E8%BD%AE%E6%92%AD"><span class="nav-text">48.轮播</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#49-%E8%B0%B7%E6%AD%8C%E8%B7%AF%E7%BA%BF%E5%9B%BE"><span class="nav-text">49.谷歌路线图</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#50-%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84-demo-%E4%B8%8D%E8%83%BD%E6%AD%A3%E5%B8%B8%E8%BF%90%E8%A1%8C%EF%BC%8C%E7%9B%B8%E5%85%B3%E6%96%B9%E6%B3%95%E5%8F%AA%E5%81%9A%E5%8F%82%E8%80%83"><span class="nav-text">50.下载文件的 demo(不能正常运行，相关方法只做参考)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#51-WidgetSpan"><span class="nav-text">51.WidgetSpan</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#52-%E6%89%93%E5%BC%80-google-%E5%BA%94%E7%94%A8%E7%9A%84%E7%9B%B8%E5%85%B3-api"><span class="nav-text">52.打开 google 应用的相关 api </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#53-%E8%81%9A%E7%84%A6"><span class="nav-text">53.聚焦</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#54-Flutter-%E6%96%87%E6%9C%AC%E8%BE%93%E5%85%A5%E6%A1%86-TextField-%E5%B1%9E%E6%80%A7"><span class="nav-text">54.Flutter 文本输入框 TextField 属性 </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#57-%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0%EF%BC%8C%E4%B8%8A%E6%BB%91%E5%8A%A0%E8%BD%BD"><span class="nav-text">57.下拉刷新，上滑加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#IntrinsicHeight"><span class="nav-text">IntrinsicHeight </span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E5%AD%97%E6%8A%98%E5%8F%A0"><span class="nav-text">文字折叠</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#58-%E7%AE%80%E5%8D%95%E7%9A%84%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F%E5%86%99%E6%B3%95"><span class="nav-text">58.简单的单例模式写法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#50-BackdropFilter-%E9%AB%98%E6%96%AF%E6%A8%A1%E7%B3%8A-%E6%AF%9B%E7%8E%BB%E7%92%83%E6%95%88%E6%9E%9C"><span class="nav-text">50.BackdropFilter 高斯模糊&#x2F;毛玻璃效果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#51-%E6%98%BE%E7%A4%BA-SVG-%E6%A0%BC%E5%BC%8F%E7%9A%84-Flutter-%E7%BB%84%E4%BB%B6%EF%BC%9Aflutter-svg"><span class="nav-text">51.显示 SVG 格式的 Flutter 组件：flutter_svg</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Flutter-shape"><span class="nav-text">Flutter shape</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%B1%8F%E5%B9%95%E5%AF%86%E5%BA%A6%E9%80%89%E6%8B%A9%E5%AF%B9%E5%BA%94%E5%B0%BA%E5%AF%B8%E7%9A%84%E5%9B%BE%E7%89%87"><span class="nav-text">通过屏幕密度选择对应尺寸的图片</span></a>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2023</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-cog fa-spin" style="--fa-animation-duration: 3s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">Jared Yuan</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        8 posts in total
                    </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.7.1</a></span>
        </div>
        
            <div class="icp-info my-1"><a target="_blank" rel="nofollow" href="
                
                    https://beian.miit.gov.cn/
                
                ">粤ICP备2023104768号</a></div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>



    
<script src="/js/tools/localSearch.js" type="module"></script>




    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>








    
<script src="/js/libs/anime.min.js"></script>



<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
